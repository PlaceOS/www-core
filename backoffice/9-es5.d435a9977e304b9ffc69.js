(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{nSQh:function(e,t,n){"use strict";n.r(t);var c=n("TYT/"),i=n("Valr"),o=n("QJY3"),r=n("DUip"),s=n("pS6y"),a=n("jdDG"),d=n("mrSG"),l=n("UN3I"),u=n("OaWH"),m=n("C/ya"),f=n("D/9M"),g=n("g+Po"),p=n("QrbZ"),h=n("BAfr"),v=n("ZwpQ"),b=n("47y3"),_=n("5f3J"),y=n("YxBP"),w=n("2mMm"),I=n("Mj3r"),C=n("rUqb"),k=[1,"container"],M=[1,"select"],O=["mat-button","",3,"tapped"],P=[1,"details"],x=["class","field",4,"ngIf"],z=[4,"ngIf"],T=[3,"system"],S=[3,"touchrelease"],E=[3,"ngModel","readonly"],D=[1,"field"],R=[1,"value"],Y=["target","_blank",3,"href"];function A(e,t){if(1&e&&(c.ec(0,"div",D),c.ec(1,"label"),c.Tc(2,"Support URL:"),c.cc(),c.ec(3,"div",R),c.ec(4,"a",Y),c.Tc(5),c.cc(),c.cc(),c.cc()),2&e){var n=c.pc();c.Ic(4),c.vc("href",n.item.support_url,c.Hc),c.Ic(5),c.Uc(n.item.support_url)}}function F(e,t){if(1&e&&(c.ec(0,"div",D),c.ec(1,"label"),c.Tc(2,"Bookable Room:"),c.cc(),c.ec(3,"div",R),c.Tc(4),c.cc(),c.cc()),2&e){var n=c.pc();c.Ic(4),c.Uc(n.item.bookable?"Yes":"No")}}var j=["target","_blank",3,"href",4,"ngIf"];function U(e,t){if(1&e&&(c.ec(0,"a",Y),c.Tc(1),c.cc()),2&e){var n=c.pc(2);c.vc("href","mailto:"+n.item.email,c.Hc),c.Ic(1),c.Uc(n.item.email)}}function L(e,t){if(1&e&&(c.ec(0,"div",D),c.ec(1,"label"),c.Tc(2,"Email:\xa0"),c.cc(),c.Rc(3,U,2,2,"a",j),c.cc()),2&e){var n=c.pc();c.Ic(3),c.vc("ngIf",n.item.email)}}function X(e,t){if(1&e&&(c.ec(0,"div",D),c.ec(1,"label"),c.Tc(2,"Capacity:"),c.cc(),c.ec(3,"div",R),c.Tc(4),c.cc(),c.cc()),2&e){var n=c.pc();c.Ic(4),c.Uc(n.item.capacity)}}function Z(e,t){if(1&e&&(c.ec(0,"div",D),c.ec(1,"label"),c.Tc(2,"Installed Touch Panels:"),c.cc(),c.ec(3,"div",R),c.Tc(4),c.cc(),c.cc()),2&e){var n=c.pc();c.Ic(4),c.Uc(n.item.installed_ui_devices)}}function $(e,t){1&e&&(c.ec(0,"header"),c.Tc(1,"Execute command"),c.cc())}var B=function(e){function t(t,n){var c=e.call(this)||this;return c._service=t,c._dialog=n,c}return d.d(t,e),t.prototype.modules=function(){return this.item.modules.slice()},t.prototype.ngOnChanges=function(e){e.item&&this.item&&this.loadZones()},t.prototype.start=function(){var e=this,t=this._dialog.open(g.b,d.a({},g.a,{data:{title:"Start system?",content:"Are you sure you want to start this system?<br>All stopped modules within the system will boot up.",icon:{type:"icon",class:"backoffice-controller-play"}}}));this.subscription("confirm_ref",t.componentInstance.event.subscribe(function(t){"done"===t.reason&&e._service.Systems.start(e.item.id).then(function(e){return null},function(t){return e._service.notifyError("Failed to start system: "+(t.message||t))})}))},t.prototype.stop=function(){var e=this,t=this._dialog.open(g.b,d.a({},g.a,{data:{title:"Stop system?",content:"Are you sure you want to stop this system?<br>All modules will be immediately stopped regardless of any other systems they may be in.",icon:{type:"icon",class:"backoffice-controller-stop"}}}));this.subscription("confirm_ref",t.componentInstance.event.subscribe(function(t){"done"===t.reason&&e._service.Systems.stop(e.item.id).then(function(e){return null},function(t){return e._service.notifyError("Failed to stop system: "+(t.message||t))})}))},t.prototype.toggleSettings=function(){this.merged=!1===this.merged,this.updateSettings()},t.prototype.updateSettings=function(){if(this.item)if(!1!==this.merged){this.settings=Object(y.b)("",this.item.settings.settings_string||"");for(var e=0,t=this.zones;e<t.length;e++){var n=t[e];this.settings=Object(y.b)(this.settings,n.settings.settings_string||"")}}else this.settings=this.item.settings.settings_string||""},t.prototype.loadZones=function(){var e=this;this._service.Zones.query({sys_id:this.item.id,offset:0}).then(function(t){t.sort(function(t,n){return e.item.zones.indexOf(n.id)-e.item.zones.indexOf(t.id)}),e.zones=t,e.updateSettings()},function(){return null})},t.ngComponentDef=c.Rb({type:t,selectors:[["system-about"]],factory:function(e){return new(e||t)(c.Xb(u.a),c.Xb(p.b))},inputs:{item:"item"},features:[c.Fb,c.Gb()],consts:20,vars:10,template:function(e,t){1&e&&(c.ec(0,"div",k),c.ec(1,"section",M),c.ec(2,"button",O),c.kc("tapped",function(e){return t.start()}),c.Tc(3,"Start System"),c.cc(),c.ec(4,"button",O),c.kc("tapped",function(e){return t.stop()}),c.Tc(5,"Stop System"),c.cc(),c.cc(),c.ec(6,"section",P),c.Rc(7,A,6,2,"div",x),c.Rc(8,F,5,1,"div",x),c.Rc(9,L,4,1,"div",x),c.Rc(10,X,5,1,"div",x),c.Rc(11,Z,5,1,"div",x),c.cc(),c.Rc(12,$,2,0,"header",z),c.Yb(13,"system-exec-field",T),c.ec(14,"header"),c.Tc(15,"Settings "),c.ec(16,"span",S),c.kc("touchrelease",function(e){return t.toggleSettings()}),c.Tc(17),c.cc(),c.cc(),c.ec(18,"section"),c.Yb(19,"settings-form-field",E),c.cc(),c.cc()),2&e&&(c.Ic(7),c.vc("ngIf",t.item.support_url),c.Ic(8),c.vc("ngIf",t.item.bookable),c.Ic(9),c.vc("ngIf",t.item.bookable&&t.item.email),c.Ic(10),c.vc("ngIf",t.item.capacity),c.Ic(11),c.vc("ngIf",t.item.installed_ui_devices),c.Ic(12),c.vc("ngIf",t.item&&t.item.id&&t.item.modules),c.Ic(13),c.vc("system",t.item),c.Ic(17),c.Uc(!1===t.merged?"This system":"Merged"),c.Ic(19),c.vc("ngModel",t.settings)("readonly",!0))},directives:[w.b,v.b,i.n,I.a,C.a,o.k,o.n],styles:[".container[_ngcontent-%COMP%]{padding:1em}header[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;font-size:1.1em}header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7em;color:rgba(0,0,0,.6);padding:0 1em;font-weight:300;text-decoration:underline;cursor:pointer;transition:color .2s}header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.85)}section[_ngcontent-%COMP%]{padding:.5em .25em}.select[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:.25em}button[_ngcontent-%COMP%]{margin:0 .25em}button[_ngcontent-%COMP%]:first-child{margin-left:0}button[_ngcontent-%COMP%]:last-child{margin-right:0}.field[_ngcontent-%COMP%]{display:flex;align-items:center;margin:.25em 0}.field[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:0 .5em}label[_ngcontent-%COMP%]{font-size:.8em;font-weight:500}a[_ngcontent-%COMP%]{font-size:.9em}"]}),t}(_.a),N=n("P6uZ"),G=n("DuJs"),H=n("GrRB"),J=n("EY9O"),V=n("UG3F"),Q=n("JkJP"),q=n("0njA"),W=n("v26h"),K=[1,"container"],ee=[1,"select"],te=["mat-button","",3,"tapped"],ne=[1,"dropdown"],ce=[3,"service","ngModel","ngModelChange"],ie=["mat-button","",3,"disabled","tapped"],oe=[1,"device-list"],re=[4,"ngIf"],se=["class","info-block",4,"ngIf"],ae=["class","terminal",4,"ngIf"],de=[1,"small"],le=[1,"name"],ue=[1,"module"],me=[1,"ip"],fe=["cdkDropList","",3,"cdkDropListDropped"],ge=["cdkDrag","",3,"context-menu","offset_y","contextAction",4,"ngFor","ngForOf"],pe=["cdkDrag","",3,"context-menu","offset_y","contextAction"],he=["cdkDragHandle","",1,"action","grab"],ve=[1,"backoffice-select-arrows"],be=["binding","","bind","connected",3,"model","sys","mod","modelChange",4,"ngIf"],_e=[1,"state",3,"tapped"],ye=["routerLinkActive","router-link-active",3,"routerLink"],we=[3,"checked","change"],Ie=[1,"lock"],Ce=["class","backoffice-lock",4,"ngIf"],ke=[3,"href"],Me=["touchrelease","",1,"small"],Oe=["mat-icon-button","",3,"matMenuTriggerFor"],Pe=[3,"icon"],xe=["menu","matMenu"],ze=["mat-menu-item","",3,"tapped",4,"ngFor","ngForOf"],Te=["class","placeholder","colspan","6",4,"cdkDragPlaceholder"],Se=["binding","","bind","connected",3,"model","sys","mod","modelChange"];function Ee(e,t){if(1&e){var n=c.fc();c.ec(0,"i",Se),c.kc("modelChange",function(e){return c.Ec(n),c.pc().$implicit.connected=e}),c.cc()}if(2&e){var i=c.pc().$implicit,o=c.pc(2);c.vc("model",i.connected)("sys",o.item.id)("mod",o.device_classes[i.id])}}var De=[1,"backoffice-lock"];function Re(e,t){1&e&&c.Yb(0,"i",De)}var Ye=["mat-menu-item","",3,"tapped"],Ae=[1,"text"];function Fe(e,t){if(1&e){var n=c.fc();c.ec(0,"button",Ye),c.kc("tapped",function(e){c.Ec(n);var i=t.$implicit,o=c.pc().$implicit;return c.pc(2).handleContextEvent(i,o)}),c.Yb(1,"app-icon",Pe),c.ec(2,"div",Ae),c.Tc(3),c.cc(),c.cc()}if(2&e){var i=t.$implicit;c.Ic(1),c.vc("icon",i.icon),c.Ic(3),c.Uc(i.name)}}var je=["colspan","6",1,"placeholder"];function Ue(e,t){1&e&&c.Yb(0,"td",je)}var Le=function(e){return["/devices",e]},Xe={class:"backoffice-dots-three-vertical"};function Ze(e,t){if(1&e){var n=c.fc();c.ec(0,"tr",pe),c.kc("contextAction",function(e){c.Ec(n);var i=t.$implicit;return c.pc(2).handleContextEvent(e,i)}),c.ec(1,"td",de),c.ec(2,"div",he),c.Yb(3,"i",ve),c.cc(),c.cc(),c.ec(4,"td",de),c.Rc(5,Ee,1,3,"i",be),c.ec(6,"div",_e),c.Pc(),c.kc("tapped",function(e){c.Ec(n);var i=t.$implicit;return c.pc(2).power(i)}),c.cc(),c.cc(),c.ec(7,"td",le),c.ec(8,"a",ye),c.Tc(9),c.cc(),c.cc(),c.ec(10,"td",ue),c.ec(11,"mat-checkbox",we),c.kc("change",function(e){c.Ec(n);var i=t.$implicit,o=c.pc(2);return o.device_listener[i.id]=e.checked,o.toggleDebugEvents(i)}),c.Tc(12),c.cc(),c.cc(),c.ec(13,"td",me),c.ec(14,"div",Ie),c.Rc(15,Re,1,0,"i",Ce),c.cc(),c.ec(16,"a",ke),c.Tc(17),c.cc(),c.cc(),c.ec(18,"td",Me),c.ec(19,"button",Oe),c.Yb(20,"app-icon",Pe),c.cc(),c.ec(21,"mat-menu",null,xe),c.Rc(23,Fe,4,2,"button",ze),c.cc(),c.cc(),c.Rc(24,Ue,1,0,"td",Te),c.cc()}if(2&e){var i=t.$implicit,o=c.Bc(22),r=c.pc(2);c.vc("context-menu",o)("offset_y",-64),c.Ic(5),c.vc("ngIf",i&&r.item.id),c.Ic(6),c.Mb("active",i.connected),c.Qc(),c.Ic(8),c.vc("routerLink",c.wc(14,Le,i.id)),c.Ic(9),c.Uc(i.name),c.Ic(11),c.vc("checked",r.device_listener[i.id]),c.Ic(12),c.Vc(" ",r.device_classes[i.id]," "),c.Ic(15),c.vc("ngIf",i.tls),c.Ic(16),c.vc("href",(i.tls?"https://":"http://")+i.ip,c.Hc),c.Ic(17),c.Uc(i.ip),c.Ic(19),c.vc("matMenuTriggerFor",o),c.Ic(20),c.vc("icon",Xe),c.Ic(23),c.vc("ngForOf",r.menu_options)}}var $e=[];function Be(e,t){if(1&e){var n=c.fc();c.ec(0,"table"),c.ec(1,"thead"),c.Yb(2,"td",de),c.Yb(3,"td",de),c.ec(4,"td",le),c.Tc(5,"Name"),c.cc(),c.ec(6,"td",ue),c.Tc(7,"Class"),c.cc(),c.ec(8,"td",me),c.Tc(9,"IP"),c.cc(),c.Yb(10,"td",de),c.cc(),c.ec(11,"tbody",fe),c.kc("cdkDropListDropped",function(e){return c.Ec(n),c.pc().drop(e)}),c.Rc(12,Ze,25,16,"tr",ge),c.cc(),c.cc()}if(2&e){var i=c.pc();c.Ic(12),c.vc("ngForOf",i.devices||$e)}}var Ne=[1,"info-block"];function Ge(e,t){1&e&&(c.ec(0,"div",Ne),c.ec(1,"div",Ae),c.Tc(2,"No devices for system"),c.cc(),c.cc())}var He=[1,"terminal"],Je=[3,"content"];function Ve(e,t){if(1&e&&(c.ec(0,"section",He),c.Yb(1,"a-terminal",Je),c.cc()),2&e){var n=c.pc();c.Ic(1),c.vc("content",n.device_logs)}}var Qe=function(e){function t(t,n,c){var i=e.call(this)||this;return i._service=t,i._dialog=n,i._composer=c,i.device_classes={},i.device_listener={},i.device_logs="",i.menu_options=[{id:"power",name:"Toggle Power",icon:{type:"icon",class:"backoffice-power-plug"}},{id:"state",name:"View State",icon:{type:"icon",class:"backoffice-eye"}},{id:"reload",name:"Reload Device",icon:{type:"icon",class:"backoffice-cw"}},{id:"remove",name:"Remove Device",icon:{type:"icon",class:"backoffice-trash"}}],i}return d.d(t,e),Object.defineProperty(t.prototype,"module_service",{get:function(){return this._service.Modules},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"is_listening",{get:function(){for(var e in this.device_listener)if(this.device_listener.hasOwnProperty(e)&&this.device_listener[e])return!0;return!1},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this.device_logs="",this._service.initialised.pipe(Object(N.a)(function(e){return e})).subscribe(function(){e.subscription("debug_events",e._composer.realtime.debug_events.subscribe(function(t){e.item.modules.find(function(e){return e===t.module})&&(e.device_logs+="\n\n"+t.message)}))})},t.prototype.ngOnChanges=function(e){e.item&&this.load()},t.prototype.load=function(e){var t=this;void 0===e&&(e=0),this._service.Modules.query({system_id:this.item.id,offset:e}).then(function(e){e.sort(function(e,n){return t.item.modules.indexOf(e.id)-t.item.modules.indexOf(n.id)}),t.devices=e,t.generateDeviceBindings()},function(){return null})},t.prototype.handleContextEvent=function(e,t){if(e)switch(e.id){case"power":this.power(t);break;case"state":this.viewState(t);break;case"reload":this.reloadModule(t);break;case"remove":this.remove(t)}},t.prototype.power=function(e){var t=this;e.running?e.stop().then(function(){t._service.notifySuccess("Module successfully stopped"),t.reload(e)},function(n){"string"==typeof n&&n.length<64?t._service.notifyError(n):t._service.notifyError("Failed to stop device '"+e.id+"'.\nView Error?","View",function(){})}):e.start().then(function(){t._service.notifySuccess("Module successfully stopped"),t.reload(e)},function(n){"string"==typeof n&&n.length<64?t._service.notifyError(n):t._service.notifyError("Failed to stop device '"+e.id+"'.\nView Error?","View",function(){})})},t.prototype.reload=function(e){this._service.Modules.show(e.id).then(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(){return null})},t.prototype.viewState=function(e){this._dialog.open(G.a,{data:{system:this.item,module:e,devices:this.devices}})},t.prototype.reloadModule=function(e){var t=this,n=this._dialog.open(g.b,d.a({},g.a,{data:{title:"Reload module?",content:"New driver code will be loaded and the device settings will be reloaded.",icon:{type:"icon",class:"backoffice-install"}}}));this.subscription("confirm_ref",n.componentInstance.event.subscribe(function(c){"done"===c.reason&&((e.driver?e.driver.reload():t._service.Drivers.reload(e.dependency_id)).then(function(e){return t._service.notifySuccess("Driver successfully reloaded.")},function(e){return t._service.notifyError(e.message||e)}),n.close(),t.unsub("confirm_ref"))}))},t.prototype.drop=function(e){var t=this;if(e&&e.previousIndex!==e.currentIndex){var n=this._dialog.open(g.b,d.a({},g.a,{data:{title:"Change order?",content:"Are you sure you want to change the module priority?<br>Settings will be updated immediately for the system.",icon:{type:"icon",class:"backoffice-layers"}}}));this.subscription("confirm_ref",n.componentInstance.event.subscribe(function(c){if("done"===c.reason){n.componentInstance.loading="Updating device order...";var i=t.item.modules.slice();Object(a.f)(i,e.previousIndex,e.currentIndex),t.item.storePendingChange("modules",i),t.item.save().then(function(){n.close(),t.unsub("confirm_ref")},function(e){n.componentInstance.loading=null,t._service.notifyError("Error reording devices. Error: "+(e.message||e))})}}))}},t.prototype.remove=function(e){var t=this,n=this._dialog.open(g.b,d.a({},g.a,{data:{title:"Remove module?",content:"Remove "+e.dependency_id+" from this system?<br>If this is not used elsewhere the associated data will be removed immediately.",icon:{type:"icon",class:"backoffice-trash"}}}));this.subscription("confirm_ref",n.componentInstance.event.subscribe(function(e){"done"===e.reason&&(n.close(),t.unsub("confirm_ref"))}))},t.prototype.newDevice=function(){var e=this;this._service.Modules.add({control_system:this.item}).then(function(t){e._service.notifySuccess("Created new device"),e.joinDevice(t.id)},function(){e._service.notifyError("Error creating new device")})},t.prototype.addDevice=function(){this.new_module&&(this.joinDevice(this.new_module),this.new_module="")},t.prototype.joinDevice=function(e){var t=this,n=this.item.modules.slice();n.indexOf(e)<0&&n.push(e),this.item.storePendingChange("modules",n),this.item.save().then(function(){t._service.notifySuccess("Successfully added device to system"),t.load()},function(){t._service.notifyError("Failed to add module to system")})},t.prototype.toggleDebugEvents=function(e){e&&(console.log("Toggle Device:",e,this.device_listener[e.id]),this.device_listener[e.id]?this.subscription("debug_"+e.id,e.debug()):this.unsub("debug_"+e.id))},t.prototype.generateDeviceBindings=function(){for(var e={},t=0,n=this.devices;t<n.length;t++){var c=n[t],i=c.custom_name||(c.driver?c.driver.module_name:"")||"Blank";e[i]||(e[i]=0),this.device_classes[c.id]=i+"_"+ ++e[i]}},t.ngComponentDef=c.Rb({type:t,selectors:[["system-devices"]],factory:function(e){return new(e||t)(c.Xb(u.a),c.Xb(p.b),c.Xb(s.c))},inputs:{item:"item"},features:[c.Fb,c.Gb()],consts:12,vars:6,template:function(e,t){1&e&&(c.ec(0,"div",K),c.ec(1,"section",ee),c.ec(2,"button",te),c.kc("tapped",function(e){return t.newDevice()}),c.Tc(3,"Add new"),c.cc(),c.ec(4,"div",ne),c.ec(5,"item-search-field",ce),c.kc("ngModelChange",function(e){return t.new_module=e.id}),c.cc(),c.cc(),c.ec(6,"button",ie),c.kc("tapped",function(e){return t.addDevice()}),c.Tc(7," Add existing "),c.cc(),c.cc(),c.ec(8,"section",oe),c.Rc(9,Be,13,1,"table",re),c.Rc(10,Ge,3,0,"div",se),c.cc(),c.Rc(11,Ve,2,1,"section",ae),c.cc()),2&e&&(c.Ic(5),c.vc("service",t.module_service)("ngModel",null),c.Ic(6),c.vc("disabled",!t.new_module),c.Ic(9),c.vc("ngIf",t.devices&&t.devices.length>0),c.Ic(10),c.vc("ngIf",!t.devices||t.devices.length<=0),c.Ic(11),c.vc("ngIf",t.is_listening))},directives:[w.b,v.b,H.a,o.k,o.n,i.n,a.d,i.m,a.a,J.a,a.b,r.f,r.e,V.a,Q.c,q.a,Q.d,a.c,s.a,Q.a,W.a],styles:[".container[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;top:4em;left:0;right:0;bottom:0;overflow:hidden}.options[_ngcontent-%COMP%]{display:flex;font-size:1.2em;max-width:5em;margin:0}.table-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1;width:5em}.table-row[_ngcontent-%COMP%]   .module[_ngcontent-%COMP%]{width:10em;min-width:7em}.placeholder[_ngcontent-%COMP%]{background:#ccc;min-height:3em;transition:-webkit-transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1),-webkit-transform 250ms cubic-bezier(0,0,.2,1)}.device-list[_ngcontent-%COMP%]{flex:1;min-height:8em;overflow:auto;padding:1em}.lock[_ngcontent-%COMP%]{height:1.2em;width:1.2em;display:inline-flex;align-items:center;justify-content:center}.state[_ngcontent-%COMP%]{height:16px;width:16px;margin:.25em;background-color:#000;border-radius:.8em;transition:margin 250ms,height 250ms,width 250ms,background-color .3s}.state.active[_ngcontent-%COMP%]{background-color:#4caf50;height:8px;width:8px;margin:8px}.terminal[_ngcontent-%COMP%]{padding-top:.5em}.select[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1em 1em 0}.select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .25em 1.5em}.select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:0}.select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.grab[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}.placeholder[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);border:4px dashed rgba(0,0,0,.6);height:2em}a[_ngcontent-%COMP%]{color:rgba(0,0,0,.85)}.mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:0 1em}.mat-menu-item[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{font-size:1.2em}.mat-menu-item[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1;min-width:50%;margin-left:.5em}"]}),t}(_.a),qe=[1,"container"],We=[1,"settings"],Ke=[1,"select"],et=[1,"dropdown"],tt=[3,"service","ngModel","ngModelChange"],nt=["mat-button","",3,"disabled","tapped"],ct=[4,"ngIf"],it=["class","info-block",4,"ngIf"],ot=[1,"small"],rt=[1,"name"],st=[1,"description"],at=["class","small",4,"ngIf"],dt=["cdkDropList","",3,"cdkDropListDropped"],lt=["cdkDrag","",4,"ngFor","ngForOf"];function ut(e,t){1&e&&c.Yb(0,"td",ot)}var mt=["cdkDrag",""],ft=["cdkDragHandle","",1,"action","grab"],gt=[1,"backoffice-select-arrows"],pt=["routerLinkActive","router-link-active",3,"routerLink"],ht=["class","placeholder","colspan","6",4,"cdkDragPlaceholder"],vt=["mat-icon-button","",3,"tapped"],bt=[1,"backoffice-publish"];function _t(e,t){if(1&e){var n=c.fc();c.ec(0,"td",ot),c.ec(1,"button",vt),c.kc("tapped",function(e){c.Ec(n);var t=c.pc().$implicit;return c.pc(2).removeZone(t)}),c.Yb(2,"i",bt),c.cc(),c.cc()}}var yt=["colspan","6",1,"placeholder"];function wt(e,t){1&e&&c.Yb(0,"td",yt)}var It=function(e){return["/zones",e]};function Ct(e,t){if(1&e&&(c.ec(0,"tr",mt),c.ec(1,"td",ot),c.ec(2,"div",ft),c.Yb(3,"i",gt),c.cc(),c.cc(),c.ec(4,"td",rt),c.ec(5,"a",pt),c.Tc(6),c.cc(),c.cc(),c.ec(7,"td",st),c.Tc(8),c.cc(),c.Rc(9,_t,3,0,"td",at),c.Rc(10,wt,1,0,"td",ht),c.cc()),2&e){var n=t.$implicit,i=c.pc(2);c.Ic(5),c.vc("routerLink",c.wc(4,It,n.id)),c.Ic(6),c.Uc(n.name),c.Ic(8),c.Uc(n.description),c.Ic(9),c.vc("ngIf",i.zones.length>1)}}function kt(e,t){if(1&e){var n=c.fc();c.ec(0,"table"),c.ec(1,"thead"),c.Yb(2,"td",ot),c.ec(3,"td",rt),c.Tc(4,"Name"),c.cc(),c.ec(5,"td",st),c.Tc(6,"Description"),c.cc(),c.Rc(7,ut,1,0,"td",at),c.cc(),c.ec(8,"tbody",dt),c.kc("cdkDropListDropped",function(e){return c.Ec(n),c.pc().drop(e)}),c.Rc(9,Ct,11,6,"tr",lt),c.cc(),c.cc()}if(2&e){var i=c.pc();c.Ic(7),c.vc("ngIf",i.zones.length>1),c.Ic(9),c.vc("ngForOf",i.zones)}}var Mt=[1,"info-block"],Ot=[1,"text"];function Pt(e,t){1&e&&(c.ec(0,"div",Mt),c.ec(1,"div",Ot),c.Tc(2,"No zones for system"),c.cc(),c.cc())}var xt=function(e){function t(t,n){var i=e.call(this)||this;return i._service=t,i._dialog=n,i.loading=new c.s,i}return d.d(t,e),Object.defineProperty(t.prototype,"zone_service",{get:function(){return this._service.Zones},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){e.item&&this.load()},t.prototype.load=function(e){var t=this;void 0===e&&(e=0),this._service.Zones.query({sys_id:this.item.id,offset:e}).then(function(e){e.sort(function(e,n){return t.item.zones.indexOf(e.id)-t.item.zones.indexOf(n.id)}),t.zones=e},function(){return null})},t.prototype.drop=function(e){var t=this;if(e&&e.previousIndex!==e.currentIndex){var n=this._dialog.open(g.b,d.a({},g.a,{data:{title:"Change order?",content:"Are you sure you want to change the zone priority?<br>Settings will be updated immediately for the system.",icon:{type:"icon",class:"backoffice-cycle"}}}));this.subscription("confirm_ref",n.componentInstance.event.subscribe(function(c){if("done"===c.reason){var i=t.item.zones.slice();Object(a.f)(i,e.previousIndex,e.currentIndex),n.componentInstance.loading="Updating zone ordering...",t.item.storePendingChange("zones",i),t.item.save().then(function(){n.close(),t.unsub("confirm_ref")},function(e){n.componentInstance.loading=null,t._service.notifyError("Error reording zones. Error: "+(e.message||e))})}}))}},t.prototype.removeZone=function(e){var t=this;if(e&&e.id){var n=this._dialog.open(g.b,d.a({},g.a,{data:{title:"Remove zone?",content:'<p>Are you sure you want remove zone "'+e.name+'" from the system?</p>Configuration will be updated immediately.',icon:{type:"icon",class:"backoffice-export"}}}));this.subscription("confirm_ref",n.componentInstance.event.subscribe(function(c){"done"===c.reason&&(t.loading.emit(!0),t.item.removeZone(e.id).then(function(e){t.loading.emit(!1),t.item=e,t._service.notifySuccess('Remove zone "'+t.new_zone+'" from system'),n.close(),t.unsub("confirm_ref")},function(e){t.loading.emit(!1),t._service.notifySuccess('Error removing "'+t.new_zone+'" from system. Error: '+e),n.close(),t.unsub("confirm_ref")}))}))}},t.prototype.joinZone=function(){var e=this;if(this.new_zone)if(this.item.zones.indexOf(this.new_zone)<0){var t=this.item.zones.concat([this.new_zone]).filter(function(e){return!!e});this.loading.emit(!0);var n=this._dialog.open(g.b,d.a({},g.a,{data:{title:"Add zone",content:'Add zone "'+this.new_zone+'" to system "'+this.item.name+'"',icon:{type:"icon",class:"backoffice-upload-to-cloud"}}}));this.subscription("confirm_ref",n.componentInstance.event.subscribe(function(c){"done"===c.reason?(n.componentInstance.loading="Adding zone to system...",e._service.Systems.update(e.item.id,d.a({},e.item,{zones:t})).then(function(t){e.new_zone=null,e.loading.emit(!1),e._service.notifySuccess('Added zone "'+e.new_zone+'" to system'),e.item=t,e.load(),n.close(),e.unsub("confirm_ref")},function(){n.componentInstance.loading=null,e.loading.emit(!1),e._service.notifyError('Error adding zone "'+e.new_zone+'"')})):e.loading.emit(!1)}))}else this._service.notifyInfo("The selected zone is already linked to this system")},t.ngComponentDef=c.Rb({type:t,selectors:[["system-zones"]],factory:function(e){return new(e||t)(c.Xb(u.a),c.Xb(p.b))},inputs:{item:"item"},outputs:{loading:"loading"},features:[c.Fb,c.Gb()],consts:10,vars:5,template:function(e,t){1&e&&(c.ec(0,"div",qe),c.ec(1,"div",We),c.ec(2,"section",Ke),c.ec(3,"div",et),c.ec(4,"item-search-field",tt),c.kc("ngModelChange",function(e){return t.new_zone=e.id}),c.cc(),c.cc(),c.ec(5,"button",nt),c.kc("tapped",function(e){return t.joinZone()}),c.Tc(6,"Join zone"),c.cc(),c.cc(),c.ec(7,"section"),c.Rc(8,kt,10,2,"table",ct),c.Rc(9,Pt,3,0,"div",it),c.cc(),c.cc(),c.cc()),2&e&&(c.Ic(4),c.vc("service",t.zone_service)("ngModel",null),c.Ic(5),c.vc("disabled",!t.new_zone),c.Ic(8),c.vc("ngIf",t.zones&&t.zones.length>0),c.Ic(9),c.vc("ngIf",!t.zones||t.zones.length<=0))},directives:[H.a,o.k,o.n,w.b,v.b,i.n,a.d,i.m,a.a,a.b,r.f,r.e,a.c],styles:[".container[_ngcontent-%COMP%]{padding:1em}header[_ngcontent-%COMP%]{font-weight:700;font-size:1.1em}section[_ngcontent-%COMP%]{padding:.5em .25em}.select[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .25em 1.5em}.placeholder[_ngcontent-%COMP%]{background:#ccc;border:3px dotted #999;min-height:3em;height:3em;transition:-webkit-transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1),-webkit-transform 250ms cubic-bezier(0,0,.2,1)}.name[_ngcontent-%COMP%]{min-width:10em}.description[_ngcontent-%COMP%]{font-size:.8em;padding:.5em}"]}),t}(_.a),zt=n("uxQG"),Tt=n("FgbW"),St=n("M+/Y"),Et=n("oIn+"),Dt=[1,"container"],Rt=[1,"settings"],Yt=[1,"select"],At=[1,"dropdown"],Ft=["mat-button","",3,"tapped"],jt=["appearance","outline"],Ut=["matPrefix","",1,"prefix"],Lt=[3,"icon"],Xt=["matInput","","name","search-filter","placeholder","Filter Triggers",3,"ngModel","ngModelChange"],Zt=[1,"list"],$t=[4,"ngIf","ngIfElse"],Bt=["empty_state",""],Nt=[1,"small"],Gt=[1,"flex"],Ht=[1,"count"],Jt=[1,"added"],Vt=[1,"duo"],Qt=[4,"ngFor","ngForOf"],qt=[1,"state"],Wt=[3,"routerLink"],Kt=[1,"actions"],en=["mat-icon-button","",3,"tapped"],tn=function(e){return["/triggers",e]},nn={class:"backoffice-edit"},cn={class:"backoffice-trash"};function on(e,t){if(1&e){var n=c.fc();c.ec(0,"tr"),c.ec(1,"td",Nt),c.ec(2,"div",qt),c.Pc(),c.cc(),c.cc(),c.ec(3,"td",Gt),c.ec(4,"a",Wt),c.Tc(5),c.cc(),c.cc(),c.ec(6,"td",Ht),c.Tc(7),c.cc(),c.ec(8,"td",Jt),c.Tc(9),c.qc(10,"dateFrom"),c.cc(),c.ec(11,"td",Vt),c.ec(12,"div",Kt),c.ec(13,"button",en),c.kc("tapped",function(e){c.Ec(n);var i=t.$implicit;return c.pc(2).editTrigger(i)}),c.Yb(14,"app-icon",Lt),c.cc(),c.ec(15,"button",en),c.kc("tapped",function(e){c.Ec(n);var i=t.$implicit;return c.pc(2).deleteTrigger(i)}),c.Yb(16,"app-icon",Lt),c.cc(),c.cc(),c.cc(),c.cc()}if(2&e){var i=t.$implicit;c.Ic(2),c.Mb("active",i.enabled),c.Qc(),c.Ic(4),c.vc("routerLink",c.wc(9,tn,i.id)),c.Ic(5),c.Uc(i.name),c.Ic(7),c.Uc(i.activated_count||"0"),c.Ic(9),c.Uc(c.rc(10,7,1e3*(i.created_at-0))),c.Ic(14),c.vc("icon",nn),c.Ic(16),c.vc("icon",cn)}}function rn(e,t){if(1&e&&(c.ec(0,"table"),c.ec(1,"thead"),c.Yb(2,"td",Nt),c.ec(3,"td",Gt),c.Tc(4,"Name"),c.cc(),c.ec(5,"td",Ht),c.Tc(6,"Count"),c.cc(),c.ec(7,"td",Jt),c.Tc(8,"Added"),c.cc(),c.Yb(9,"td",Vt),c.cc(),c.ec(10,"tbody"),c.Rc(11,on,17,11,"tr",Qt),c.cc(),c.cc()),2&e){var n=c.pc();c.Ic(11),c.vc("ngForOf",n.trigger_list)}}var sn=[1,"info-block"],an=[1,"text"];function dn(e,t){1&e&&(c.ec(0,"div",sn),c.ec(1,"div",an),c.Tc(2,"No triggers for system"),c.cc(),c.cc())}var ln={class:"backoffice-magnifying-glass"},un=function(e){function t(t,n,c){var i=e.call(this)||this;return i._service=t,i._dialog=n,i._composer=c,i.trigger_list=[],i}return d.d(t,e),t.prototype.ngOnChanges=function(e){e.item&&this.loadSystemTriggers()},t.prototype.loadSystemTriggers=function(e){var t=this;void 0===e&&(e=0),this._service.SystemTriggers.query({sys_id:this.item.id,offset:e}).then(function(e){t.trigger_list=e},function(){return null})},t.prototype.editTrigger=function(e){var t=this;if(this.item&&e){var n=this._dialog.open(f.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:e,service:this._service.SystemTriggers,external_save:!0}});this.subscription("delete_confirm",n.componentInstance.event.subscribe(function(c){"action"===c.reason&&(n.componentInstance.loading="Saving trigger settings...",t._composer.http.put(t._composer.auth.api_endpoint+"/systems/"+t.item.id+"/triggers/"+e.id,e.toJSON(!0)).subscribe(function(){return null},function(e){n.componentInstance.loading=null,t._service.notifyError("Error updating trigger settings. Error: "+(e.message||e))},function(){t._service.notifySuccess("Successfully updated trigger settings."),n.close(),t.unsub("delete_confirm")}))}))}},t.prototype.deleteTrigger=function(e){var t=this;if(this.item&&e){var n=this._dialog.open(g.b,d.a({},g.a,{data:{title:"Remove trigger",content:'<p>Are you sure you want remove trigger "'+e.name+'"?</p><p>Configuration will be updated <strong>immediately</strong>.</p>',icon:{type:"icon",class:"backoffice-trash"}}}));this.subscription("delete_confirm",n.componentInstance.event.subscribe(function(c){"done"===c.reason&&(n.componentInstance.loading="Removing trigger...",t._composer.http.delete(t._composer.auth.api_endpoint+"/systems/"+t.item.id+"/triggers/"+e.id).subscribe(function(){return null},function(e){n.componentInstance.loading=null,t._service.notifyError("Error removing trigger. Error: "+(e.message||e))},function(){t._service.notifySuccess('Successfully deleted trigger "'+t.item.name+'".'),n.close(),t.unsub("delete_confirm")}))}))}},t.prototype.selectTriggerToAdd=function(){var e=this,t=this._dialog.open(zt.a,{height:"auto",width:"auto",data:{service_name:"Triggers"}});this.subscription("dialog_events",t.componentInstance.event.subscribe(function(n){var c=t.componentInstance.item;"action"===n.reason&&c&&(e.addTrigger(c),t.close())})),t.afterClosed().subscribe(function(){return e.unsub("dialog_events")})},t.prototype.addTrigger=function(e){this._service.Systems.task(this.item.id,"triggers",{control_system_id:this.item.id,enabled:!0,important:!1,trigger_id:e.id})},t.ngComponentDef=c.Rb({type:t,selectors:[["system-triggers"]],factory:function(e){return new(e||t)(c.Xb(u.a),c.Xb(p.b),c.Xb(s.c))},inputs:{item:"item"},features:[c.Fb,c.Gb()],consts:14,vars:4,template:function(e,t){if(1&e&&(c.ec(0,"div",Dt),c.ec(1,"div",Rt),c.ec(2,"section",Yt),c.ec(3,"div",At),c.ec(4,"button",Ft),c.kc("tapped",function(e){return t.selectTriggerToAdd()}),c.Tc(5,"Add trigger"),c.cc(),c.cc(),c.ec(6,"mat-form-field",jt),c.ec(7,"div",Ut),c.Yb(8,"app-icon",Lt),c.cc(),c.ec(9,"input",Xt),c.kc("ngModelChange",function(e){return t.search_str=e}),c.cc(),c.cc(),c.cc(),c.ec(10,"section",Zt),c.Rc(11,rn,12,1,"table",$t),c.cc(),c.cc(),c.cc(),c.Rc(12,dn,3,0,"ng-template",null,Bt,c.Sc)),2&e){var n=c.Bc(13);c.Ic(8),c.vc("icon",ln),c.Ic(9),c.vc("ngModel",t.search_str),c.Ic(11),c.vc("ngIf",t.trigger_list.length>0)("ngIfElse",n)}},directives:[w.b,v.b,Tt.b,Tt.e,q.a,St.a,o.b,o.k,o.n,i.n,i.m,r.f],pipes:[Et.a],styles:[".container[_ngcontent-%COMP%]{padding:1em}.list[_ngcontent-%COMP%]{margin-top:.5em}.table-row[_ngcontent-%COMP%]   .added[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{width:8em;min-width:8em}.action[_ngcontent-%COMP%]{height:1.5em;width:1.5em;min-width:1.5em;border-radius:.65em;display:flex;align-items:center;justify-content:center;font-size:1.3em}.action[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.state[_ngcontent-%COMP%]{height:16px;width:16px;margin:.25em;background-color:#000;border-radius:.8em;transition:margin 250ms,height 250ms,width 250ms,background-color .3s}.state.active[_ngcontent-%COMP%]{background-color:#4caf50;height:8px;width:8px;margin:.625em}.select[_ngcontent-%COMP%]{display:flex;align-items:center}.select[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;min-width:50%}.select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .25em 1.5em}.select[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{font-size:1.25em}.duo[_ngcontent-%COMP%]{width:6em}.actions[_ngcontent-%COMP%]{display:flex}"]}),t}(_.a),mn=[1,"container"],fn=[1,"sidebar"],gn=["heading","Systems",3,"module","close","searchChange","event"],pn=[3,"touchrelease"],hn=["name","system",3,"item","loading","tabs","active","event"],vn=["about",""],bn=["devices",""],_n=["zones",""],yn=["triggers",""],wn=[3,"item"];function In(e,t){if(1&e&&c.Yb(0,"system-about",wn),2&e){var n=c.pc();c.vc("item",n.item)}}function Cn(e,t){if(1&e&&c.Yb(0,"system-devices",wn),2&e){var n=c.pc();c.vc("item",n.item)}}function kn(e,t){if(1&e&&c.Yb(0,"system-zones",wn),2&e){var n=c.pc();c.vc("item",n.item)}}function Mn(e,t){if(1&e&&c.Yb(0,"system-triggers",wn),2&e){var n=c.pc();c.vc("item",n.item)}}var On={class:"backoffice-info-with-circle"},Pn=function(e){return{id:"about",name:"About",template:e,icon:On}},xn={class:"backoffice-tablet"},zn=function(e,t){return{id:"devices",name:"Devices",count:e,template:t,icon:xn}},Tn={class:"backoffice-layers"},Sn=function(e,t){return{id:"zones",name:"Zones",count:e,template:t,icon:Tn}},En={class:"backoffice-stopwatch"},Dn=function(e,t){return{id:"triggers",name:"Triggers",count:e,template:t,icon:En}},Rn=function(e,t,n,c){return[e,t,n,c]},Yn=function(e){function t(t,n,c,i){var o=e.call(this,t,n,c)||this;return o._service=t,o._route=n,o._router=c,o._dialog=i,o.service=o._service.Systems,o}return d.d(t,e),t.prototype.loadValues=function(){var e=this;this._service.SystemTriggers.query({offset:0,limit:1,sys_id:this.item.id}).then(function(){return e.trigger_count=e._service.SystemTriggers.last_total}),this.device_count=(this.item.modules||[]).length,this.zone_count=(this.item.zones||[]).length},t.prototype.new=function(){this._dialog.open(f.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:new l.n(this._service.Systems,{}),service:this._service.Systems}})},t.prototype.edit=function(){this.item&&this._dialog.open(f.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:this.item,service:this._service.Systems}})},t.prototype.delete=function(){var e=this;if(this.item){var t=this._dialog.open(g.b,d.a({},g.a,{data:{title:"Delete system",content:"<p>Are you sure you want delete this system?</p><p>Deleting this will <strong>immediately</strong> delete modules that are not in another system</p>",icon:{type:"icon",class:"backoffice-trash"}}}));this.subscription("delete_confirm",t.componentInstance.event.subscribe(function(n){"done"===n.reason&&(t.componentInstance.loading="Deleting system...",e.item.delete().then(function(){e._service.notifySuccess('Successfully deleted system "'+e.item.name+'".'),e._router.navigate(["/systems"]),t.close(),e.unsub("delete_confirm")},function(n){t.componentInstance.loading=null,e._service.notifyError("Error deleting system. Error: "+n)}))}))}},t.ngComponentDef=c.Rb({type:t,selectors:[["app-systems"]],factory:function(e){return new(e||t)(c.Xb(u.a),c.Xb(r.a),c.Xb(r.c),c.Xb(p.b))},features:[c.Fb],consts:13,vars:23,template:function(e,t){if(1&e&&(c.ec(0,"div",mn),c.Pc(),c.ec(1,"div",fn),c.ec(2,"sidebar",gn),c.kc("searchChange",function(e){return t.search(e)}),c.kc("event",function(e){return t.sidebarEvent(e)}),c.cc(),c.cc(),c.ec(3,"main",pn),c.kc("touchrelease",function(e){return t.show_sidebar=!1}),c.ec(4,"item-display",hn),c.kc("event",function(e){return t.itemEvent(e)}),c.Rc(5,In,1,1,"ng-template",null,vn,c.Sc),c.Rc(7,Cn,1,1,"ng-template",null,bn,c.Sc),c.Rc(9,kn,1,1,"ng-template",null,_n,c.Sc),c.Rc(11,Mn,1,1,"ng-template",null,yn,c.Sc),c.cc(),c.cc(),c.cc()),2&e){var n=c.Bc(6),i=c.Bc(8),o=c.Bc(10),r=c.Bc(12);c.Mb("show",t.show_sidebar),c.Qc(),c.Ic(2),c.vc("module",t.module)("close",t.show_sidebar),c.Ic(4),c.vc("item",t.item)("loading",t.loading_item)("tabs",c.zc(18,Rn,c.wc(7,Pn,n),c.xc(9,zn,t.device_count,i),c.xc(12,Sn,t.zone_count,o),c.xc(15,Dn,t.trigger_count,r)))("active",t.tab)}},directives:[h.a,v.b,b.a,B,Qe,xt,un],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%}.sidebar[_ngcontent-%COMP%]{height:100%;width:20em}@media only screen and (orientation:portrait) and (max-width:450px){.container[_ngcontent-%COMP%]{flex-direction:column}.container.show[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{height:100%}.container.show[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{height:0%}.sidebar[_ngcontent-%COMP%]{height:3em;min-height:3em;width:100%;transition:height .3s}main[_ngcontent-%COMP%]{transition:height .3s;width:100%}}@media only screen and (orientation:landscape) and (max-width:800px){.container[_ngcontent-%COMP%]{flex-direction:column}.container.show[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{height:100%}.container.show[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{height:0%}.sidebar[_ngcontent-%COMP%]{height:3em;min-height:3em;width:100%;transition:height .3s}main[_ngcontent-%COMP%]{transition:height .3s;width:100%}}main[_ngcontent-%COMP%]{position:relative;height:100%;overflow:hidden;flex:1;background-color:#f0f0f0}"]}),t}(m.a),An=[{path:"",component:Yn,children:[]},{path:":id",component:Yn,children:[]},{path:"**",redirectTo:""}],Fn=n("PCNd");n.d(t,"AppSystemsModule",function(){return jn});var jn=function(){function e(){}return e.ngModuleDef=c.Vb({type:e}),e.ngInjectorDef=c.Ub({factory:function(t){return new(t||e)},imports:[[i.c,o.g,s.b,r.g.forChild(An),Fn.a,a.e]]}),e}();r.g.forChild(An)}}]);