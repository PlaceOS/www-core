(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"9SBB":function(e,t,n){"use strict";n.r(t);var i=n("TYT/"),c=n("Valr"),o=n("QJY3"),r=n("DUip"),s=n("pS6y"),a=n("mrSG"),l=n("UN3I"),d=n("OaWH"),h=n("C/ya"),m=n("g+Po"),u=n("D/9M"),f=n("QrbZ"),p=n("BAfr"),g=n("ZwpQ"),v=n("47y3"),b=n("5f3J"),_=n("1dN3"),y=[1,"container"],C=[1,"details"],w=[1,"field"],M=[1,"value"],O=[3,"href"],P=function(e){function t(t,n){var i=e.call(this)||this;return i.service=t,i._dialog=n,i.model={},i}return a.d(t,e),t.prototype.ngOnInit=function(){},t.prototype.select=function(e){this.model.selected_system=e},t.ngComponentDef=i.Rb({type:t,selectors:[["repository-about"]],factory:function(e){return new(e||t)(i.Xb(d.a),i.Xb(f.b))},inputs:{item:"item"},features:[i.Fb],consts:24,vars:8,template:function(e,t){1&e&&(i.ec(0,"div",y),i.ec(1,"section",C),i.ec(2,"div",w),i.ec(3,"label"),i.Tc(4,"Type:"),i.cc(),i.ec(5,"div",M),i.Tc(6),i.cc(),i.cc(),i.ec(7,"div",w),i.ec(8,"label"),i.Tc(9,"Folder name:"),i.cc(),i.ec(10,"div",M),i.Tc(11),i.cc(),i.cc(),i.ec(12,"div",w),i.ec(13,"label"),i.Tc(14,"Repository URI:"),i.cc(),i.ec(15,"div",M),i.ec(16,"a",O),i.qc(17,"safe"),i.Tc(18),i.cc(),i.cc(),i.cc(),i.ec(19,"div",w),i.ec(20,"label"),i.Tc(21,"Description:"),i.cc(),i.ec(22,"div",M),i.Tc(23),i.cc(),i.cc(),i.cc(),i.cc()),2&e&&(i.Ic(6),i.Vc("",t.item.type?"Interface":"Driver"," Repository"),i.Ic(11),i.Uc(t.item.folder_name||"No folder set"),i.Ic(16),i.vc("href",i.sc(17,5,t.item.uri,"url"),i.Hc),i.Ic(18),i.Uc(t.item.uri||"No URI set"),i.Ic(23),i.Uc(t.item.description||"No description"))},pipes:[_.b],styles:[".container[_ngcontent-%COMP%]{padding:1em}header[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;font-size:1.1em}section[_ngcontent-%COMP%]{padding:.5em .25em}.no-item[_ngcontent-%COMP%]{font-size:.75em}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:.75em 0}label[_ngcontent-%COMP%]{font-size:.8em;font-weight:500;margin-bottom:.4em}"]}),t}(b.a),I=n("ARKa"),x=[1,"container"],R=[1,"settings"],T=[4,"ngIf"],D=["class","info-block",4,"ngIf"],k=[1,"flex"],F=[4,"ngFor","ngForOf"],N=[1,"small",3,"innerHTML"];function U(e,t){if(1&e&&(i.ec(0,"tr"),i.Yb(1,"td",N),i.qc(2,"driverFormat"),i.cc()),2&e){var n=t.$implicit;i.Ic(1),i.vc("innerHTML",i.rc(2,1,n),i.Fc)}}function X(e,t){if(1&e&&(i.ec(0,"table"),i.ec(1,"thead"),i.ec(2,"td",k),i.Tc(3,"Name"),i.cc(),i.cc(),i.ec(4,"tbody"),i.Rc(5,U,3,3,"tr",F),i.cc(),i.cc()),2&e){var n=i.pc();i.Ic(5),i.vc("ngForOf",n.driver_list)}}var H=[1,"info-block"],z=[1,"text"];function A(e,t){1&e&&(i.ec(0,"div",H),i.ec(1,"div",z),i.Tc(2,"No drivers for repository"),i.cc(),i.cc())}var B=function(e){function t(t){var n=e.call(this)||this;return n.service=t,n.driver_list=[],n}return a.d(t,e),t.prototype.ngOnChanges=function(e){e.item&&this.load()},t.prototype.load=function(e){var t=this;void 0===e&&(e=0),this.service.Repositories.listDrivers(this.item.id,{offset:e}).then(function(e){t.driver_list=e||[]},function(){return null})},t.ngComponentDef=i.Rb({type:t,selectors:[["repository-drivers"]],factory:function(e){return new(e||t)(i.Xb(d.a))},inputs:{item:"item"},features:[i.Fb,i.Gb()],consts:4,vars:2,template:function(e,t){1&e&&(i.ec(0,"div",x),i.ec(1,"div",R),i.Rc(2,X,6,1,"table",T),i.Rc(3,A,3,0,"div",D),i.cc(),i.cc()),2&e&&(i.Ic(2),i.vc("ngIf",t.driver_list&&t.driver_list.length>0),i.Ic(3),i.vc("ngIf",!t.driver_list||t.driver_list.length<=0))},directives:[c.n,c.m],pipes:[I.a],styles:[".container[_ngcontent-%COMP%]{padding:1em}.list[_ngcontent-%COMP%]{margin-top:.5em}tbody[_ngcontent-%COMP%]{font-size:.9em}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap}div[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{width:2em}div[_ngcontent-%COMP%]   .duo[_ngcontent-%COMP%]{width:4em}div[_ngcontent-%COMP%]   .duo[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:inline-flex}.select[_ngcontent-%COMP%]{display:flex;align-items:center}.select[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}"]}),t}(b.a),E=[1,"container"],S=[1,"sidebar"],Y=["heading","Repositories",3,"module","close","searchChange","event"],J=[3,"touchrelease"],Q=["name","repository",3,"item","loading","active","tabs","event"],V=["about",""],W=["drivers",""],j=[3,"item"];function q(e,t){if(1&e&&i.Yb(0,"repository-about",j),2&e){var n=i.pc();i.vc("item",n.item)}}function G(e,t){if(1&e&&i.Yb(0,"repository-drivers",j),2&e){var n=i.pc();i.vc("item",n.item)}}var L={class:"backoffice-info-with-circle"},Z=function(e){return{id:"about",name:"About",template:e,icon:L}},K={class:"backoffice-documents"},$=function(e,t){return{id:"drives",name:"Drivers",template:e,count:t,icon:K}},ee=function(e,t){return[e,t]},te=function(e){function t(t,n,i,c){var o=e.call(this,t,n,i)||this;return o._service=t,o._route=n,o._router=i,o._dialog=c,o.service=o._service.Repositories,o}return a.d(t,e),t.prototype.loadValues=function(){var e=this;this._service.Repositories.listDrivers(this.item.id,{offset:0}).then(function(t){return e.driver_count=t.length})},t.prototype.new=function(){this._dialog.open(u.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:new l.j(this._service.Repositories,{}),service:this._service.Repositories}})},t.prototype.edit=function(){this.item&&this._dialog.open(u.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:this.item,service:this._service.Repositories}})},t.prototype.delete=function(){var e=this;if(this.item){var t=this._dialog.open(m.b,a.a({},m.a,{data:{title:"Delete repository",content:"<p>Are you sure you want delete this repository?</p><p>Deleting this repository will <strong>immediately</strong> remove it from all associated systems and zones</p>",icon:{type:"icon",class:"backoffice-trash"}}}));this.subscription("delete_confirm",t.componentInstance.event.subscribe(function(n){return a.b(e,void 0,void 0,function(){var e=this;return a.e(this,function(i){switch(i.label){case 0:return"done"!==n.reason?[3,2]:(t.componentInstance.loading="Deleting repository...",[4,this.item.delete().catch(function(n){throw t.componentInstance.loading=null,e._service.notifyError("Error deleting repository. Error: "+(n.message||n)),n})]);case 1:i.sent(),this._router.navigate(["/repositories"]),t.close(),this.unsub("delete_confirm"),i.label=2;case 2:return[2]}})})}))}},t.ngComponentDef=i.Rb({type:t,selectors:[["app-repositories"]],factory:function(e){return new(e||t)(i.Xb(d.a),i.Xb(r.a),i.Xb(r.c),i.Xb(f.b))},features:[i.Fb],consts:9,vars:15,template:function(e,t){if(1&e&&(i.ec(0,"div",E),i.Pc(),i.ec(1,"div",S),i.ec(2,"sidebar",Y),i.kc("searchChange",function(e){return t.search(e)}),i.kc("event",function(e){return t.sidebarEvent(e)}),i.cc(),i.cc(),i.ec(3,"main",J),i.kc("touchrelease",function(e){return t.show_sidebar=!1}),i.ec(4,"item-display",Q),i.kc("event",function(e){return t.itemEvent(e)}),i.Rc(5,q,1,1,"ng-template",null,V,i.Sc),i.Rc(7,G,1,1,"ng-template",null,W,i.Sc),i.cc(),i.cc(),i.cc()),2&e){var n=i.Bc(6),c=i.Bc(8);i.Mb("show",t.show_sidebar),i.Qc(),i.Ic(2),i.vc("module",t.module)("close",t.show_sidebar),i.Ic(4),i.vc("item",t.item)("loading",t.loading_item)("active",t.tab)("tabs",i.xc(12,ee,i.wc(7,Z,n),i.xc(9,$,c,t.driver_count)))}},directives:[p.a,g.b,v.a,P,B],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%}.sidebar[_ngcontent-%COMP%]{height:100%;width:20em}@media only screen and (orientation:portrait) and (max-width:450px){.container[_ngcontent-%COMP%]{flex-direction:column}.container.show[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{height:100%}.container.show[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{height:0%}.sidebar[_ngcontent-%COMP%]{height:3em;min-height:3em;width:100%;transition:height .3s}main[_ngcontent-%COMP%]{transition:height .3s;width:100%}}@media only screen and (orientation:landscape) and (max-width:800px){.container[_ngcontent-%COMP%]{flex-direction:column}.container.show[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{height:100%}.container.show[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{height:0%}.sidebar[_ngcontent-%COMP%]{height:3em;min-height:3em;width:100%;transition:height .3s}main[_ngcontent-%COMP%]{transition:height .3s;width:100%}}main[_ngcontent-%COMP%]{position:relative;height:100%;overflow:hidden;flex:1;background-color:#f0f0f0}"]}),t}(h.a),ne=[{path:"",component:te,children:[]},{path:":id",component:te,children:[]},{path:"**",redirectTo:""}],ie=n("PCNd");n.d(t,"AppRepositoriesModule",function(){return ce});var ce=function(){function e(){}return e.ngModuleDef=i.Vb({type:e}),e.ngInjectorDef=i.Ub({factory:function(t){return new(t||e)},imports:[[c.c,o.g,s.b,r.g.forChild(ne),ie.a]]}),e}();r.g.forChild(ne)}}]);