(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{nSQh:function(e,t,i){"use strict";i.r(t);var n=i("ofXK"),s=i("3Pt+"),o=i("tyNb"),c=i("CcG0"),r=i("5+WD"),a=i("UN3I"),d=i("OaWH"),b=i("C/ya"),l=i("D/9M"),m=i("g+Po"),g=i("fXoL"),h=i("0IaG"),u=i("BAfr"),f=i("m6yr"),p=i("47y3");const _=function(){return{class:"backoffice-info-with-circle"}},v=function(e){return{id:"about",name:"About",icon:e}},y=function(){return{class:"backoffice-tablet"}},w=function(e,t){return{id:"devices",name:"Devices",count:e,icon:t}},C=function(){return{class:"backoffice-layers"}},k=function(e,t){return{id:"zones",name:"Zones",count:e,icon:t}},O=function(){return{class:"backoffice-stopwatch"}},x=function(e,t){return{id:"triggers",name:"Triggers",count:e,icon:t}},I=function(e,t,i,n){return[e,t,i,n]};let V=(()=>{class e extends b.a{constructor(e,t,i,n){super(e,t,i),this._service=e,this._route=t,this._router=i,this._dialog=n,this.service=this._service.Systems}loadValues(){this._service.SystemTriggers.query({offset:0,limit:1,sys_id:this.item.id}).then(()=>this.trigger_count=this._service.SystemTriggers.last_total),this.device_count=(this.item.modules||[]).length,this.zone_count=(this.item.zones||[]).length}new(){this._dialog.open(l.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:new a.n(this._service.Systems,{}),service:this._service.Systems}}).componentInstance.event.subscribe(e=>{console.log("Event:",e),"done"===e.reason&&this._router.navigate(["/systems",e.metadata.item.id])})}edit(){this.item&&this._dialog.open(l.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:this.item,service:this._service.Systems}})}delete(){if(this.item){const e=this._dialog.open(m.b,Object.assign(Object.assign({},m.a),{data:{title:"Delete system",content:"<p>Are you sure you want delete this system?</p><p>Deleting this will <strong>immediately</strong> delete modules that are not in another system</p>",icon:{type:"icon",class:"backoffice-trash"}}}));this.subscription("delete_confirm",e.componentInstance.event.subscribe(t=>{"done"===t.reason&&(e.componentInstance.loading="Deleting system...",this.item.delete().then(()=>{this._service.notifySuccess(`Successfully deleted system "${this.item.name}".`),this._router.navigate(["/systems"]),e.close(),this.unsub("delete_confirm")},t=>{e.componentInstance.loading=null,this._service.notifyError(`Error deleting system. Error: ${t}`)}))}))}}}return e.\u0275fac=function(t){return new(t||e)(g.Qb(d.a),g.Qb(o.a),g.Qb(o.c),g.Qb(h.b))},e.\u0275cmp=g.Kb({type:e,selectors:[["app-systems"]],features:[g.zb],decls:5,vars:27,consts:[[1,"container"],[1,"sidebar"],["heading","Systems",3,"module","close","event"],[3,"touchrelease"],["name","system","route","systems",3,"item","loading","tabs","event"]],template:function(e,t){1&e&&(g.Wb(0,"div",0),g.Wb(1,"div",1),g.Wb(2,"sidebar",2),g.ec("event",(function(e){return t.sidebarEvent(e)})),g.Vb(),g.Vb(),g.Wb(3,"main",3),g.ec("touchrelease",(function(e){return t.show_sidebar=!1})),g.Wb(4,"item-display",4),g.ec("event",(function(e){return t.itemEvent(e)})),g.Vb(),g.Vb(),g.Vb()),2&e&&(g.Gb("show",t.show_sidebar),g.Cb(2),g.oc("module",t.module)("close",t.show_sidebar),g.Cb(2),g.oc("item",t.item)("loading",t.loading_item)("tabs",g.tc(22,I,g.qc(8,v,g.pc(7,_)),g.rc(11,w,t.device_count,g.pc(10,y)),g.rc(15,k,t.zone_count,g.pc(14,C)),g.rc(19,x,t.trigger_count,g.pc(18,O)))))},directives:[u.a,f.b,p.a],styles:[".container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;height:100%;width:100%}@media only screen and (orientation:portrait)and (max-width:450px){.container[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}}@media only screen and (orientation:landscape)and (max-width:800px){.container[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}}@media only screen and (orientation:portrait)and (max-width:450px){.container.show[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{height:100%}}@media only screen and (orientation:landscape)and (max-width:800px){.container.show[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{height:100%}}@media only screen and (orientation:portrait)and (max-width:450px){.container.show[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{height:0%}}@media only screen and (orientation:landscape)and (max-width:800px){.container.show[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{height:0%}}.sidebar[_ngcontent-%COMP%]{height:100%;width:20em}@media only screen and (orientation:portrait)and (max-width:450px){.sidebar[_ngcontent-%COMP%]{height:3em;min-height:3em;width:100%;-webkit-transition:height .3s;transition:height .3s}}@media only screen and (orientation:landscape)and (max-width:800px){.sidebar[_ngcontent-%COMP%]{height:3em;min-height:3em;width:100%;-webkit-transition:height .3s;transition:height .3s}}main[_ngcontent-%COMP%]{position:relative;height:100%;overflow:hidden;-webkit-box-flex:1;flex:1;background-color:#f0f0f0}@media only screen and (orientation:portrait)and (max-width:450px){main[_ngcontent-%COMP%]{-webkit-transition:height .3s;transition:height .3s;width:100%}}@media only screen and (orientation:landscape)and (max-width:800px){main[_ngcontent-%COMP%]{-webkit-transition:height .3s;transition:height .3s;width:100%}}"]}),e})();var M=i("5f3J"),W=i("YxBP"),P=i("bTqV"),z=i("Mj3r"),S=i("rUqb");function E(e,t){if(1&e&&(g.Wb(0,"div",10),g.Wb(1,"label"),g.Ic(2,"Support URL:"),g.Vb(),g.Wb(3,"div",11),g.Wb(4,"a",12),g.Ic(5),g.Vb(),g.Vb(),g.Vb()),2&e){const e=g.ic(2);g.Cb(4),g.oc("href",e.item.support_url,g.Bc),g.Cb(1),g.Jc(e.item.support_url)}}function D(e,t){if(1&e&&(g.Wb(0,"div",10),g.Wb(1,"label"),g.Ic(2,"Bookable Room:"),g.Vb(),g.Wb(3,"div",11),g.Ic(4),g.Vb(),g.Vb()),2&e){const e=g.ic(2);g.Cb(4),g.Jc(e.item.bookable?"Yes":"No")}}function $(e,t){if(1&e&&(g.Wb(0,"a",12),g.Ic(1),g.Vb()),2&e){const e=g.ic(3);g.oc("href","mailto:"+e.item.email,g.Bc),g.Cb(1),g.Jc(e.item.email)}}function j(e,t){if(1&e&&(g.Wb(0,"div",10),g.Wb(1,"label"),g.Ic(2,"Email:\xa0"),g.Vb(),g.Gc(3,$,2,2,"a",13),g.Vb()),2&e){const e=g.ic(2);g.Cb(3),g.oc("ngIf",e.item.email)}}function G(e,t){if(1&e&&(g.Wb(0,"div",10),g.Wb(1,"label"),g.Ic(2,"Capacity:"),g.Vb(),g.Wb(3,"div",11),g.Ic(4),g.Vb(),g.Vb()),2&e){const e=g.ic(2);g.Cb(4),g.Jc(e.item.capacity)}}function A(e,t){if(1&e&&(g.Wb(0,"div",10),g.Wb(1,"label"),g.Ic(2,"Installed Touch Panels:"),g.Vb(),g.Wb(3,"div",11),g.Ic(4),g.Vb(),g.Vb()),2&e){const e=g.ic(2);g.Cb(4),g.Jc(e.item.installed_ui_devices)}}function R(e,t){1&e&&(g.Wb(0,"header"),g.Ic(1,"Execute command"),g.Vb())}function T(e,t){if(1&e){const e=g.Xb();g.Wb(0,"div",1),g.Wb(1,"section",2),g.Wb(2,"button",3),g.ec("tapped",(function(t){return g.yc(e),g.ic().start()})),g.Ic(3,"Start System"),g.Vb(),g.Wb(4,"button",3),g.ec("tapped",(function(t){return g.yc(e),g.ic().stop()})),g.Ic(5,"Stop System"),g.Vb(),g.Vb(),g.Wb(6,"section",4),g.Gc(7,E,6,2,"div",5),g.Gc(8,D,5,1,"div",5),g.Gc(9,j,4,1,"div",5),g.Gc(10,G,5,1,"div",5),g.Gc(11,A,5,1,"div",5),g.Vb(),g.Gc(12,R,2,0,"header",6),g.Rb(13,"system-exec-field",7),g.Wb(14,"header"),g.Ic(15,"Settings "),g.Wb(16,"span",8),g.ec("touchrelease",(function(t){return g.yc(e),g.ic().toggleSettings()})),g.Ic(17),g.Vb(),g.Vb(),g.Wb(18,"section"),g.Rb(19,"settings-form-field",9),g.Vb(),g.Vb()}if(2&e){const e=g.ic();g.Cb(7),g.oc("ngIf",e.item.support_url),g.Cb(1),g.oc("ngIf",e.item.bookable),g.Cb(1),g.oc("ngIf",e.item.bookable&&e.item.email),g.Cb(1),g.oc("ngIf",e.item.capacity),g.Cb(1),g.oc("ngIf",e.item.installed_ui_devices),g.Cb(1),g.oc("ngIf",e.item&&e.item.id&&e.item.modules),g.Cb(1),g.oc("system",e.item),g.Cb(4),g.Jc(!1===e.merged?"This system":"Merged"),g.Cb(2),g.oc("ngModel",e.settings)("readonly",!0)}}let F=(()=>{class e extends M.a{constructor(e,t){super(),this._service=e,this._dialog=t}modules(){return[...this.item.modules]}ngOnInit(){this.subscription("item",this._service.listen("BACKOFFICE.active_item",e=>{this.item=e,this.loadZones()}))}ngOnChanges(e){e.item&&this.item&&this.loadZones()}start(){const e=this._dialog.open(m.b,Object.assign(Object.assign({},m.a),{data:{title:"Start system?",content:"Are you sure you want to start this system?<br>All stopped modules within the system will boot up.",icon:{type:"icon",class:"backoffice-controller-play"}}}));this.subscription("confirm_ref",e.componentInstance.event.subscribe(e=>{"done"===e.reason&&this._service.Systems.start(this.item.id).then(e=>null,e=>this._service.notifyError(`Failed to start system: ${e.message||e}`))}))}stop(){const e=this._dialog.open(m.b,Object.assign(Object.assign({},m.a),{data:{title:"Stop system?",content:"Are you sure you want to stop this system?<br>All modules will be immediately stopped regardless of any other systems they may be in.",icon:{type:"icon",class:"backoffice-controller-stop"}}}));this.subscription("confirm_ref",e.componentInstance.event.subscribe(e=>{"done"===e.reason&&this._service.Systems.stop(this.item.id).then(e=>null,e=>this._service.notifyError(`Failed to stop system: ${e.message||e}`))}))}toggleSettings(){this.merged=!1===this.merged,this.updateSettings()}updateSettings(){if(this.item)if(!1!==this.merged){this.settings=Object(W.b)("",this.item.settings.settings_string||"");for(const e of this.zones)this.settings=Object(W.b)(this.settings,e.settings.settings_string||"")}else this.settings=this.item.settings.settings_string||""}loadZones(){this.item&&this._service.Zones.query({sys_id:this.item.id,offset:0}).then(e=>{e.sort((e,t)=>this.item.zones.indexOf(t.id)-this.item.zones.indexOf(e.id)),this.zones=e,this.updateSettings()},()=>null)}}return e.\u0275fac=function(t){return new(t||e)(g.Qb(d.a),g.Qb(h.b))},e.\u0275cmp=g.Kb({type:e,selectors:[["system-about"]],inputs:{item:"item"},features:[g.zb,g.Ab()],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"select"],["mat-button","",3,"tapped"],[1,"details"],["class","field",4,"ngIf"],[4,"ngIf"],[3,"system"],[3,"touchrelease"],[3,"ngModel","readonly"],[1,"field"],[1,"value"],["target","_blank",3,"href"],["target","_blank",3,"href",4,"ngIf"]],template:function(e,t){1&e&&g.Gc(0,T,20,10,"div",0),2&e&&g.oc("ngIf",t.item)},directives:[n.m,P.b,f.b,z.a,S.a,s.k,s.n],styles:[".container[_ngcontent-%COMP%]{padding:1em}header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-weight:700;font-size:1.1em}header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7em;color:rgba(0,0,0,.6);padding:0 1em;font-weight:300;text-decoration:underline;cursor:pointer;-webkit-transition:color .2s;transition:color .2s}header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.85)}section[_ngcontent-%COMP%]{padding:.5em .25em}.select[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;margin-bottom:.25em}button[_ngcontent-%COMP%]{margin:0 .25em}button[_ngcontent-%COMP%]:first-child{margin-left:0}button[_ngcontent-%COMP%]:last-child{margin-right:0}.field[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin:.25em 0}.field[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:0 .5em}label[_ngcontent-%COMP%]{font-size:.8em;font-weight:500}a[_ngcontent-%COMP%]{font-size:.9em}"]}),e})();var J=i("SxV6"),L=i("DuJs"),Q=i("GrRB"),Z=i("EY9O"),B=i("bSwM"),N=i("STbY"),X=i("0njA"),q=i("v26h");function K(e,t){if(1&e){const e=g.Xb();g.Wb(0,"i",33),g.ec("modelChange",(function(t){return g.yc(e),g.ic().$implicit.connected=t})),g.Vb()}if(2&e){const e=g.ic().$implicit,t=g.ic(3);g.oc("model",e.connected)("sys",t.item.id)("mod",t.device_classes[e.id])}}function H(e,t){1&e&&g.Rb(0,"i",34)}function U(e,t){if(1&e){const e=g.Xb();g.Wb(0,"button",35),g.ec("tapped",(function(i){g.yc(e);const n=t.$implicit,s=g.ic().$implicit;return g.ic(3).handleContextEvent(n,s)})),g.Rb(1,"app-icon",29),g.Wb(2,"div",36),g.Ic(3),g.Vb(),g.Vb()}if(2&e){const e=t.$implicit;g.Cb(1),g.oc("icon",e.icon),g.Cb(2),g.Jc(e.name)}}function Y(e,t){1&e&&g.Rb(0,"td",37)}const ee=function(e){return["/devices",e]},te=function(){return{class:"backoffice-dots-three-vertical"}};function ie(e,t){if(1&e){const e=g.Xb();g.Wb(0,"tr",17),g.ec("contextAction",(function(i){g.yc(e);const n=t.$implicit;return g.ic(3).handleContextEvent(i,n)})),g.Wb(1,"td",11),g.Wb(2,"div",18),g.Rb(3,"i",19),g.Vb(),g.Vb(),g.Wb(4,"td",11),g.Gc(5,K,1,3,"i",20),g.Wb(6,"div",21),g.ec("tapped",(function(i){g.yc(e);const n=t.$implicit;return g.ic(3).power(n)})),g.Vb(),g.Vb(),g.Wb(7,"td",12),g.Wb(8,"a",22),g.Ic(9),g.Vb(),g.Vb(),g.Wb(10,"td",13),g.Wb(11,"mat-checkbox",23),g.ec("change",(function(i){g.yc(e);const n=t.$implicit,s=g.ic(3);return s.device_listener[n.id]=i.checked,s.toggleDebugEvents(n)})),g.Ic(12),g.Vb(),g.Vb(),g.Wb(13,"td",14),g.Wb(14,"div",24),g.Gc(15,H,1,0,"i",25),g.Vb(),g.Wb(16,"a",26),g.Ic(17),g.Vb(),g.Vb(),g.Wb(18,"td",27),g.Wb(19,"button",28),g.Rb(20,"app-icon",29),g.Vb(),g.Wb(21,"mat-menu",null,30),g.Gc(23,U,4,2,"button",31),g.Vb(),g.Vb(),g.Gc(24,Y,1,0,"td",32),g.Vb()}if(2&e){const e=t.$implicit,i=g.vc(22),n=g.ic(3);g.oc("context-menu",i)("offset_y",-64),g.Cb(5),g.oc("ngIf",e&&n.item.id),g.Cb(1),g.Gb("active",e.connected),g.Cb(2),g.oc("routerLink",g.qc(15,ee,e.id)),g.Cb(1),g.Jc(e.name),g.Cb(2),g.oc("checked",n.device_listener[e.id]),g.Cb(1),g.Kc(" ",n.device_classes[e.id]," "),g.Cb(3),g.oc("ngIf",e.tls),g.Cb(1),g.oc("href",(e.tls?"https://":"http://")+e.ip,g.Bc),g.Cb(1),g.Jc(e.ip),g.Cb(2),g.oc("matMenuTriggerFor",i),g.Cb(1),g.oc("icon",g.pc(17,te)),g.Cb(3),g.oc("ngForOf",n.menu_options)}}const ne=function(){return[]};function se(e,t){if(1&e){const e=g.Xb();g.Wb(0,"table"),g.Wb(1,"thead"),g.Rb(2,"td",11),g.Rb(3,"td",11),g.Wb(4,"td",12),g.Ic(5,"Name"),g.Vb(),g.Wb(6,"td",13),g.Ic(7,"Class"),g.Vb(),g.Wb(8,"td",14),g.Ic(9,"IP"),g.Vb(),g.Rb(10,"td",11),g.Vb(),g.Wb(11,"tbody",15),g.ec("cdkDropListDropped",(function(t){return g.yc(e),g.ic(2).drop(t)})),g.Gc(12,ie,25,18,"tr",16),g.Vb(),g.Vb()}if(2&e){const e=g.ic(2);g.Cb(12),g.oc("ngForOf",e.devices||g.pc(1,ne))}}function oe(e,t){1&e&&(g.Wb(0,"div",38),g.Wb(1,"div",36),g.Ic(2,"No devices for system"),g.Vb(),g.Vb())}function ce(e,t){if(1&e&&(g.Wb(0,"section",39),g.Rb(1,"a-terminal",40),g.Vb()),2&e){const e=g.ic(2);g.Cb(1),g.oc("content",e.device_logs)}}function re(e,t){if(1&e){const e=g.Xb();g.Wb(0,"div",1),g.Wb(1,"section",2),g.Wb(2,"button",3),g.ec("tapped",(function(t){return g.yc(e),g.ic().newDevice()})),g.Ic(3,"Add new"),g.Vb(),g.Wb(4,"div",4),g.Wb(5,"item-search-field",5),g.ec("ngModelChange",(function(t){return g.yc(e),g.ic().new_module=t.id})),g.Vb(),g.Vb(),g.Wb(6,"button",6),g.ec("tapped",(function(t){return g.yc(e),g.ic().addDevice()})),g.Ic(7," Add existing "),g.Vb(),g.Vb(),g.Wb(8,"section",7),g.Gc(9,se,13,2,"table",8),g.Gc(10,oe,3,0,"div",9),g.Vb(),g.Gc(11,ce,2,1,"section",10),g.Vb()}if(2&e){const e=g.ic();g.Cb(5),g.oc("service",e.module_service)("ngModel",null),g.Cb(1),g.oc("disabled",!e.new_module),g.Cb(3),g.oc("ngIf",e.devices&&e.devices.length>0),g.Cb(1),g.oc("ngIf",!e.devices||e.devices.length<=0),g.Cb(1),g.oc("ngIf",e.is_listening)}}let ae=(()=>{class e extends M.a{constructor(e,t,i){super(),this._service=e,this._dialog=t,this._composer=i,this.device_classes={},this.device_listener={},this.device_logs="",this.menu_options=[{id:"power",name:"Toggle Power",icon:{type:"icon",class:"backoffice-power-plug"}},{id:"state",name:"View State",icon:{type:"icon",class:"backoffice-eye"}},{id:"reload",name:"Reload Device",icon:{type:"icon",class:"backoffice-cw"}},{id:"remove",name:"Remove Device",icon:{type:"icon",class:"backoffice-trash"}}]}get module_service(){return this._service.Modules}get is_listening(){for(const e in this.device_listener)if(this.device_listener.hasOwnProperty(e)&&this.device_listener[e])return!0;return!1}ngOnInit(){this.subscription("item",this._service.listen("BACKOFFICE.active_item",e=>{this.item=e,this.loadDevices()})),this.device_logs="",this._service.initialised.pipe(Object(J.a)(e=>e)).subscribe(()=>{this.subscription("debug_events",this._composer.realtime.debug_events.subscribe(e=>{this.item.modules.find(t=>t===e.module)&&(this.device_logs+="\n\n"+e.message)}))})}ngOnChanges(e){e.item&&this.loadDevices()}loadDevices(e=0){this.item&&this._service.Modules.query({system_id:this.item.id,offset:e}).then(e=>{e.sort((e,t)=>this.item.modules.indexOf(e.id)-this.item.modules.indexOf(t.id)),this.devices=e,this.generateDeviceBindings()},()=>null)}handleContextEvent(e,t){if(e)switch(e.id){case"power":this.power(t);break;case"state":this.viewState(t);break;case"reload":this.reloadModule(t);break;case"remove":this.remove(t)}}power(e){e.running?e.stop().then(()=>{this._service.notifySuccess("Module successfully stopped"),this.reload(e)},t=>{"string"==typeof t&&t.length<64?this._service.notifyError(t):this._service.notifyError(`Failed to stop device '${e.id}'.\nView Error?`,"View",()=>{})}):e.start().then(()=>{this._service.notifySuccess("Module successfully stopped"),this.reload(e)},t=>{"string"==typeof t&&t.length<64?this._service.notifyError(t):this._service.notifyError(`Failed to stop device '${e.id}'.\nView Error?`,"View",()=>{})})}reload(e){this._service.Modules.show(e.id).then(t=>{for(const i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},()=>null)}viewState(e){this._dialog.open(L.a,{data:{system:this.item,module:e,devices:this.devices}})}reloadModule(e){const t=this._dialog.open(m.b,Object.assign(Object.assign({},m.a),{data:{title:"Reload module?",content:"New driver code will be loaded and the device settings will be reloaded.",icon:{type:"icon",class:"backoffice-install"}}}));this.subscription("confirm_ref",t.componentInstance.event.subscribe(i=>{"done"===i.reason&&((e.driver?e.driver.reload():this._service.Drivers.reload(e.dependency_id)).then(e=>this._service.notifySuccess("Driver successfully reloaded."),e=>this._service.notifyError(e.message||e)),t.close(),this.unsub("confirm_ref"))}))}drop(e){if(e&&e.previousIndex!==e.currentIndex){const t=this._dialog.open(m.b,Object.assign(Object.assign({},m.a),{data:{title:"Change order?",content:"Are you sure you want to change the module priority?<br>Settings will be updated immediately for the system.",icon:{type:"icon",class:"backoffice-layers"}}}));this.subscription("confirm_ref",t.componentInstance.event.subscribe(i=>{if("done"===i.reason){t.componentInstance.loading="Updating device order...";const i=[...this.item.modules];Object(r.f)(i,e.previousIndex,e.currentIndex),this.item.storePendingChange("modules",i),this.item.save().then(()=>{t.close(),this.unsub("confirm_ref")},e=>{t.componentInstance.loading=null,this._service.notifyError(`Error reording devices. Error: ${e.message||e}`)})}}))}}remove(e){const t=this._dialog.open(m.b,Object.assign(Object.assign({},m.a),{data:{title:"Remove module?",content:`Remove ${e.dependency_id} from this system?<br>If this is not used elsewhere the associated data will be removed immediately.`,icon:{type:"icon",class:"backoffice-trash"}}}));this.subscription("confirm_ref",t.componentInstance.event.subscribe(e=>{"done"===e.reason&&(t.close(),this.unsub("confirm_ref"))}))}newDevice(){this._service.Modules.add({control_system:this.item}).then(e=>{this._service.notifySuccess("Created new device"),this.joinDevice(e.id)},()=>{this._service.notifyError("Error creating new device")})}addDevice(){this.new_module&&(this.joinDevice(this.new_module),this.new_module="")}joinDevice(e){const t=[...this.item.modules];t.indexOf(e)<0&&t.push(e),this.item.storePendingChange("modules",t),this.item.save().then(()=>{this._service.notifySuccess("Successfully added device to system"),this.loadDevices()},()=>{this._service.notifyError("Failed to add module to system")})}toggleDebugEvents(e){e&&(console.log("Toggle Device:",e,this.device_listener[e.id]),this.device_listener[e.id]?this.subscription(`debug_${e.id}`,e.debug()):this.unsub(`debug_${e.id}`))}generateDeviceBindings(){const e={};for(const t of this.devices){const i=t.custom_name||(t.driver?t.driver.module_name:"")||"Blank";e[i]||(e[i]=0),this.device_classes[t.id]=`${i}_${++e[i]}`}}}return e.\u0275fac=function(t){return new(t||e)(g.Qb(d.a),g.Qb(h.b),g.Qb(c.c))},e.\u0275cmp=g.Kb({type:e,selectors:[["system-devices"]],inputs:{item:"item"},features:[g.zb,g.Ab()],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"select"],["mat-button","",3,"tapped"],[1,"dropdown"],[3,"service","ngModel","ngModelChange"],["mat-button","",3,"disabled","tapped"],[1,"device-list"],[4,"ngIf"],["class","info-block",4,"ngIf"],["class","terminal",4,"ngIf"],[1,"small"],[1,"name"],[1,"module"],[1,"ip"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",3,"context-menu","offset_y","contextAction",4,"ngFor","ngForOf"],["cdkDrag","",3,"context-menu","offset_y","contextAction"],["cdkDragHandle","",1,"action","grab"],[1,"backoffice-select-arrows"],["binding","","bind","connected",3,"model","sys","mod","modelChange",4,"ngIf"],[1,"state",3,"tapped"],["routerLinkActive","router-link-active",3,"routerLink"],[3,"checked","change"],[1,"lock"],["class","backoffice-lock",4,"ngIf"],[3,"href"],["touchrelease","",1,"small"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"icon"],["menu","matMenu"],["mat-menu-item","",3,"tapped",4,"ngFor","ngForOf"],["class","placeholder","colspan","6",4,"cdkDragPlaceholder"],["binding","","bind","connected",3,"model","sys","mod","modelChange"],[1,"backoffice-lock"],["mat-menu-item","",3,"tapped"],[1,"text"],["colspan","6",1,"placeholder"],[1,"info-block"],[1,"terminal"],[3,"content"]],template:function(e,t){1&e&&g.Gc(0,re,12,6,"div",0),2&e&&g.oc("ngIf",t.item)},directives:[n.m,P.b,f.b,Q.a,s.k,s.n,r.d,n.l,r.a,Z.a,r.b,o.f,o.e,B.a,N.c,X.a,N.d,r.c,c.a,N.a,q.a],styles:[".container[_ngcontent-%COMP%]{position:absolute;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;top:4em;left:0;right:0;bottom:0;overflow:hidden}.container[_ngcontent-%COMP%], .options[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.options[_ngcontent-%COMP%]{font-size:1.2em;max-width:5em;margin:0}.table-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;width:5em}.table-row[_ngcontent-%COMP%]   .module[_ngcontent-%COMP%]{width:10em;min-width:7em}.placeholder[_ngcontent-%COMP%]{background:#ccc;border:3px dotted #999;min-height:3em;-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}.device-list[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;min-height:8em;overflow:auto;padding:1em}.lock[_ngcontent-%COMP%]{height:1.2em;width:1.2em;display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.state[_ngcontent-%COMP%]{height:16px;width:16px;margin:.25em;background-color:#000;border-radius:.8em;-webkit-transition:margin .25s,height .25s,width .25s,background-color .3s;transition:margin .25s,height .25s,width .25s,background-color .3s}.state.active[_ngcontent-%COMP%]{background-color:#4caf50;height:8px;width:8px;margin:8px}.terminal[_ngcontent-%COMP%]{padding-top:.5em}.select[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding:1em 1em 0}.select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .25em 1.5em}.select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:0}.select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.grab[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}.placeholder[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);border:4px dashed rgba(0,0,0,.6);height:2em}a[_ngcontent-%COMP%]{color:rgba(0,0,0,.85)}.mat-menu-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding:0 1em}.mat-menu-item[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{font-size:1.2em}.mat-menu-item[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;min-width:50%;margin-left:.5em}"]}),e})();var de=i("uxQG"),be=i("kmnG"),le=i("qFsG"),me=i("oIn+");const ge=function(e){return["/triggers",e]},he=function(){return{class:"backoffice-edit"}},ue=function(){return{class:"backoffice-trash"}};function fe(e,t){if(1&e){const e=g.Xb();g.Wb(0,"tr"),g.Wb(1,"td",13),g.Rb(2,"div",19),g.Vb(),g.Wb(3,"td",14),g.Wb(4,"a",20),g.Ic(5),g.Vb(),g.Vb(),g.Wb(6,"td",15),g.Ic(7),g.Vb(),g.Wb(8,"td",16),g.Ic(9),g.jc(10,"dateFrom"),g.Vb(),g.Wb(11,"td",17),g.Wb(12,"div",21),g.Wb(13,"button",22),g.ec("tapped",(function(i){g.yc(e);const n=t.$implicit;return g.ic(3).editTrigger(n)})),g.Rb(14,"app-icon",9),g.Vb(),g.Wb(15,"button",22),g.ec("tapped",(function(i){g.yc(e);const n=t.$implicit;return g.ic(3).deleteTrigger(n)})),g.Rb(16,"app-icon",9),g.Vb(),g.Vb(),g.Vb(),g.Vb()}if(2&e){const e=t.$implicit;g.Cb(2),g.Gb("active",e.enabled),g.Cb(2),g.oc("routerLink",g.qc(10,ge,e.id)),g.Cb(1),g.Jc(e.name),g.Cb(2),g.Jc(e.activated_count||"0"),g.Cb(2),g.Jc(g.kc(10,8,1e3*(e.created_at-0))),g.Cb(5),g.oc("icon",g.pc(12,he)),g.Cb(2),g.oc("icon",g.pc(13,ue))}}function pe(e,t){if(1&e&&(g.Wb(0,"table"),g.Wb(1,"thead"),g.Rb(2,"td",13),g.Wb(3,"td",14),g.Ic(4,"Name"),g.Vb(),g.Wb(5,"td",15),g.Ic(6,"Count"),g.Vb(),g.Wb(7,"td",16),g.Ic(8,"Added"),g.Vb(),g.Rb(9,"td",17),g.Vb(),g.Wb(10,"tbody"),g.Gc(11,fe,17,14,"tr",18),g.Vb(),g.Vb()),2&e){const e=g.ic(2);g.Cb(11),g.oc("ngForOf",e.trigger_list)}}const _e=function(){return{class:"backoffice-magnifying-glass"}};function ve(e,t){if(1&e){const e=g.Xb();g.Wb(0,"div",2),g.Wb(1,"div",3),g.Wb(2,"section",4),g.Wb(3,"div",5),g.Wb(4,"button",6),g.ec("tapped",(function(t){return g.yc(e),g.ic().selectTriggerToAdd()})),g.Ic(5,"Add trigger"),g.Vb(),g.Vb(),g.Wb(6,"mat-form-field",7),g.Wb(7,"div",8),g.Rb(8,"app-icon",9),g.Vb(),g.Wb(9,"input",10),g.ec("ngModelChange",(function(t){return g.yc(e),g.ic().search_str=t})),g.Vb(),g.Vb(),g.Vb(),g.Wb(10,"section",11),g.Gc(11,pe,12,1,"table",12),g.Vb(),g.Vb(),g.Vb()}if(2&e){const e=g.ic(),t=g.vc(2);g.Cb(8),g.oc("icon",g.pc(4,_e)),g.Cb(1),g.oc("ngModel",e.search_str),g.Cb(2),g.oc("ngIf",e.trigger_list.length>0)("ngIfElse",t)}}function ye(e,t){1&e&&(g.Wb(0,"div",23),g.Wb(1,"div",24),g.Ic(2,"No triggers for system"),g.Vb(),g.Vb())}function we(e,t){1&e&&g.Rb(0,"td",9)}function Ce(e,t){if(1&e){const e=g.Xb();g.Wb(0,"td",9),g.Wb(1,"button",20),g.ec("tapped",(function(t){g.yc(e);const i=g.ic().$implicit;return g.ic(3).removeZone(i)})),g.Rb(2,"i",21),g.Vb(),g.Vb()}}function ke(e,t){1&e&&g.Rb(0,"td",22)}const Oe=function(e){return["/zones",e]};function xe(e,t){if(1&e&&(g.Wb(0,"tr",15),g.Wb(1,"td",9),g.Wb(2,"div",16),g.Rb(3,"i",17),g.Vb(),g.Vb(),g.Wb(4,"td",10),g.Wb(5,"a",18),g.Ic(6),g.Vb(),g.Vb(),g.Wb(7,"td",11),g.Ic(8),g.Vb(),g.Gc(9,Ce,3,0,"td",12),g.Gc(10,ke,1,0,"td",19),g.Vb()),2&e){const e=t.$implicit,i=g.ic(3);g.Cb(5),g.oc("routerLink",g.qc(4,Oe,e.id)),g.Cb(1),g.Jc(e.name),g.Cb(2),g.Jc(e.description),g.Cb(1),g.oc("ngIf",i.zones.length>1)}}function Ie(e,t){if(1&e){const e=g.Xb();g.Wb(0,"table"),g.Wb(1,"thead"),g.Rb(2,"td",9),g.Wb(3,"td",10),g.Ic(4,"Name"),g.Vb(),g.Wb(5,"td",11),g.Ic(6,"Description"),g.Vb(),g.Gc(7,we,1,0,"td",12),g.Vb(),g.Wb(8,"tbody",13),g.ec("cdkDropListDropped",(function(t){return g.yc(e),g.ic(2).drop(t)})),g.Gc(9,xe,11,6,"tr",14),g.Vb(),g.Vb()}if(2&e){const e=g.ic(2);g.Cb(7),g.oc("ngIf",e.zones.length>1),g.Cb(2),g.oc("ngForOf",e.zones)}}function Ve(e,t){1&e&&(g.Wb(0,"div",23),g.Wb(1,"div",24),g.Ic(2,"No zones for system"),g.Vb(),g.Vb())}function Me(e,t){if(1&e){const e=g.Xb();g.Wb(0,"div",1),g.Wb(1,"div",2),g.Wb(2,"section",3),g.Wb(3,"div",4),g.Wb(4,"item-search-field",5),g.ec("ngModelChange",(function(t){return g.yc(e),g.ic().new_zone=t.id})),g.Vb(),g.Vb(),g.Wb(5,"button",6),g.ec("tapped",(function(t){return g.yc(e),g.ic().joinZone()})),g.Ic(6,"Join zone"),g.Vb(),g.Vb(),g.Wb(7,"section"),g.Gc(8,Ie,10,2,"table",7),g.Gc(9,Ve,3,0,"div",8),g.Vb(),g.Vb(),g.Vb()}if(2&e){const e=g.ic();g.Cb(4),g.oc("service",e.zone_service)("ngModel",null),g.Cb(1),g.oc("disabled",!e.new_zone),g.Cb(3),g.oc("ngIf",e.zones&&e.zones.length>0),g.Cb(1),g.oc("ngIf",!e.zones||e.zones.length<=0)}}const We=[{path:"",component:V,children:[]},{path:":id",component:V,children:[{path:"about",component:F},{path:"devices",component:ae},{path:"triggers",component:(()=>{class e extends M.a{constructor(e,t,i){super(),this._service=e,this._dialog=t,this._composer=i,this.trigger_list=[]}ngOnInit(){this.subscription("item",this._service.listen("BACKOFFICE.active_item",e=>{this.item=e,this.loadSystemTriggers()}))}ngOnChanges(e){e.item&&this.loadSystemTriggers()}loadSystemTriggers(e=0){this.item&&this._service.SystemTriggers.query({sys_id:this.item.id,offset:e}).then(e=>{this.trigger_list=e},()=>null)}editTrigger(e){if(this.item&&e){const t=this._dialog.open(l.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:e,service:this._service.SystemTriggers,external_save:!0}});this.subscription("delete_confirm",t.componentInstance.event.subscribe(i=>{"action"===i.reason&&(t.componentInstance.loading="Saving trigger settings...",this._composer.http.put(`${this._composer.auth.api_endpoint}/systems/${this.item.id}/triggers/${e.id}`,e.toJSON(!0)).subscribe(()=>null,e=>{t.componentInstance.loading=null,this._service.notifyError(`Error updating trigger settings. Error: ${e.message||e}`)},()=>{this._service.notifySuccess("Successfully updated trigger settings."),t.close(),this.unsub("delete_confirm")}))}))}}deleteTrigger(e){if(this.item&&e){const t=this._dialog.open(m.b,Object.assign(Object.assign({},m.a),{data:{title:"Remove trigger",content:`<p>Are you sure you want remove trigger "${e.name}"?</p><p>Configuration will be updated <strong>immediately</strong>.</p>`,icon:{type:"icon",class:"backoffice-trash"}}}));this.subscription("delete_confirm",t.componentInstance.event.subscribe(i=>{"done"===i.reason&&(t.componentInstance.loading="Removing trigger...",this._composer.http.delete(`${this._composer.auth.api_endpoint}/systems/${this.item.id}/triggers/${e.id}`).subscribe(()=>null,e=>{t.componentInstance.loading=null,this._service.notifyError(`Error removing trigger. Error: ${e.message||e}`)},()=>{this._service.notifySuccess(`Successfully deleted trigger "${this.item.name}".`),t.close(),this.unsub("delete_confirm")}))}))}}selectTriggerToAdd(){const e=this._dialog.open(de.a,{height:"auto",width:"auto",data:{service_name:"Triggers"}});this.subscription("dialog_events",e.componentInstance.event.subscribe(t=>{const i=e.componentInstance.item;"action"===t.reason&&i&&(this.addTrigger(i),e.close())})),e.afterClosed().subscribe(()=>this.unsub("dialog_events"))}addTrigger(e){this._service.Systems.task(this.item.id,"triggers",{control_system_id:this.item.id,enabled:!0,important:!1,trigger_id:e.id})}}return e.\u0275fac=function(t){return new(t||e)(g.Qb(d.a),g.Qb(h.b),g.Qb(c.c))},e.\u0275cmp=g.Kb({type:e,selectors:[["system-triggers"]],inputs:{item:"item"},features:[g.zb,g.Ab()],decls:3,vars:1,consts:[["class","container",4,"ngIf"],["empty_state",""],[1,"container"],[1,"settings"],[1,"select"],[1,"dropdown"],["mat-button","",3,"tapped"],["appearance","outline"],["matPrefix","",1,"prefix"],[3,"icon"],["matInput","","name","search-filter","placeholder","Filter Triggers",3,"ngModel","ngModelChange"],[1,"list"],[4,"ngIf","ngIfElse"],[1,"small"],[1,"flex"],[1,"count"],[1,"added"],[1,"duo"],[4,"ngFor","ngForOf"],[1,"state"],[3,"routerLink"],[1,"actions"],["mat-icon-button","",3,"tapped"],[1,"info-block"],[1,"text"]],template:function(e,t){1&e&&(g.Gc(0,ve,12,5,"div",0),g.Gc(1,ye,3,0,"ng-template",null,1,g.Hc)),2&e&&g.oc("ngIf",t.item)},directives:[n.m,P.b,f.b,be.b,be.e,X.a,le.a,s.b,s.k,s.n,n.l,o.f],pipes:[me.a],styles:[".container[_ngcontent-%COMP%]{padding:1em}.list[_ngcontent-%COMP%]{margin-top:.5em}.table-row[_ngcontent-%COMP%]   .added[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{width:8em;min-width:8em}.action[_ngcontent-%COMP%]{height:1.5em;width:1.5em;min-width:1.5em;border-radius:.65em;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;font-size:1.3em}.action[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.state[_ngcontent-%COMP%]{height:16px;width:16px;margin:.25em;background-color:#000;border-radius:.8em;-webkit-transition:margin .25s,height .25s,width .25s,background-color .3s;transition:margin .25s,height .25s,width .25s,background-color .3s}.state.active[_ngcontent-%COMP%]{background-color:#4caf50;height:8px;width:8px;margin:.625em}.select[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.select[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;min-width:50%}.select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .25em 1.5em}.select[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{font-size:1.25em}.duo[_ngcontent-%COMP%]{width:6em}.actions[_ngcontent-%COMP%]{display:-webkit-box;display:flex}"]}),e})()},{path:"zones",component:(()=>{class e extends M.a{constructor(e,t){super(),this._service=e,this._dialog=t,this.loading=new g.n}get zone_service(){return this._service.Zones}ngOnInit(){this.subscription("item",this._service.listen("BACKOFFICE.active_item",e=>{this.item=e,this.loadZones()}))}ngOnChanges(e){e.item&&this.loadZones()}loadZones(e=0){this.item&&this._service.Zones.query({sys_id:this.item.id,offset:e}).then(e=>{e.sort((e,t)=>this.item.zones.indexOf(e.id)-this.item.zones.indexOf(t.id)),this.zones=e},()=>null)}drop(e){if(e&&e.previousIndex!==e.currentIndex){const t=this._dialog.open(m.b,Object.assign(Object.assign({},m.a),{data:{title:"Change order?",content:"Are you sure you want to change the zone priority?<br>Settings will be updated immediately for the system.",icon:{type:"icon",class:"backoffice-cycle"}}}));this.subscription("confirm_ref",t.componentInstance.event.subscribe(i=>{if("done"===i.reason){const i=[...this.item.zones];Object(r.f)(i,e.previousIndex,e.currentIndex),t.componentInstance.loading="Updating zone ordering...",this.item.storePendingChange("zones",i),this.item.save().then(()=>{t.close(),this.unsub("confirm_ref")},e=>{t.componentInstance.loading=null,this._service.notifyError(`Error reording zones. Error: ${e.message||e}`)})}}))}}removeZone(e){if(e&&e.id){const t=this._dialog.open(m.b,Object.assign(Object.assign({},m.a),{data:{title:"Remove zone?",content:`<p>Are you sure you want remove zone "${e.name}" from the system?</p>Configuration will be updated immediately.`,icon:{type:"icon",class:"backoffice-export"}}}));this.subscription("confirm_ref",t.componentInstance.event.subscribe(i=>{"done"===i.reason&&(this.loading.emit(!0),this.item.removeZone(e.id).then(e=>{this.loading.emit(!1),this.item=e,this._service.notifySuccess(`Remove zone "${this.new_zone}" from system`),t.close(),this.unsub("confirm_ref")},e=>{this.loading.emit(!1),this._service.notifySuccess(`Error removing "${this.new_zone}" from system. Error: ${e}`),t.close(),this.unsub("confirm_ref")}))}))}}joinZone(){if(this.new_zone)if(this.item.zones.indexOf(this.new_zone)<0){const e=[...this.item.zones,this.new_zone].filter(e=>!!e);this.loading.emit(!0);const t=this._dialog.open(m.b,Object.assign(Object.assign({},m.a),{data:{title:"Add zone",content:`Add zone "${this.new_zone}" to system "${this.item.name}"`,icon:{type:"icon",class:"backoffice-upload-to-cloud"}}}));this.subscription("confirm_ref",t.componentInstance.event.subscribe(i=>{"done"===i.reason?(t.componentInstance.loading="Adding zone to system...",this._service.Systems.update(this.item.id,Object.assign(Object.assign({},this.item),{zones:e})).then(e=>{this.new_zone=null,this.loading.emit(!1),this._service.notifySuccess(`Added zone "${this.new_zone}" to system`),this.item=e,this.loadZones(),t.close(),this.unsub("confirm_ref")},()=>{t.componentInstance.loading=null,this.loading.emit(!1),this._service.notifyError(`Error adding zone "${this.new_zone}"`)})):this.loading.emit(!1)}))}else this._service.notifyInfo("The selected zone is already linked to this system")}}return e.\u0275fac=function(t){return new(t||e)(g.Qb(d.a),g.Qb(h.b))},e.\u0275cmp=g.Kb({type:e,selectors:[["system-zones"]],inputs:{item:"item"},outputs:{loading:"loading"},features:[g.zb,g.Ab()],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"settings"],[1,"select"],[1,"dropdown"],[3,"service","ngModel","ngModelChange"],["mat-button","",3,"disabled","tapped"],[4,"ngIf"],["class","info-block",4,"ngIf"],[1,"small"],[1,"name"],[1,"description"],["class","small",4,"ngIf"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],["cdkDragHandle","",1,"action","grab"],[1,"backoffice-select-arrows"],["routerLinkActive","router-link-active",3,"routerLink"],["class","placeholder","colspan","6",4,"cdkDragPlaceholder"],["mat-icon-button","",3,"tapped"],[1,"backoffice-publish"],["colspan","6",1,"placeholder"],[1,"info-block"],[1,"text"]],template:function(e,t){1&e&&g.Gc(0,Me,10,5,"div",0),2&e&&g.oc("ngIf",t.item)},directives:[n.m,Q.a,s.k,s.n,P.b,f.b,r.d,n.l,r.a,r.b,o.f,o.e,r.c],styles:[".container[_ngcontent-%COMP%]{padding:1em}header[_ngcontent-%COMP%]{font-weight:700;font-size:1.1em}section[_ngcontent-%COMP%]{padding:.5em .25em}.select[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .25em 1.5em}.placeholder[_ngcontent-%COMP%]{background:#ccc;border:3px dotted #999;min-height:3em;height:3em;-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}.name[_ngcontent-%COMP%]{min-width:10em}.description[_ngcontent-%COMP%]{font-size:.8em;padding:.5em}"]}),e})()},{path:"**",redirectTo:"about"}]},{path:"**",redirectTo:""}];var Pe=i("PCNd");i.d(t,"AppSystemsModule",(function(){return ze}));let ze=(()=>{class e{}return e.\u0275mod=g.Ob({type:e}),e.\u0275inj=g.Nb({factory:function(t){return new(t||e)},imports:[[n.c,s.g,c.b,o.g.forChild(We),Pe.a,r.e]]}),e})()}}]);